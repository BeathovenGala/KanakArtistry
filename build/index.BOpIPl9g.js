import{r as e,a as t}from"./chunks/react-vendor.BeOVxKlb.js";import{r,_ as s,a as i}from"./chunks/ui-vendor.BNN0k7kT.js";import{m as n,A as a}from"./chunks/animation.Cwas8SqC.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var o,l,c={exports:{}},u={};var h,d=(l||(l=1,c.exports=(o||(o=1,function(){var t,r=e(),s=Symbol.for("react.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b=Symbol.iterator,g=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];!function(e,t,r){var s=g.ReactDebugCurrentFrame.getStackAddendum();""!==s&&(t+="%s",r=r.concat([s]));var i=r.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,i)}(0,e,r)}function w(e){return e.displayName||"Context"}function N(e){if(null==e)return null;if("number"==typeof e.tag&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case n:return"Fragment";case i:return"Portal";case o:return"Profiler";case a:return"StrictMode";case d:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case c:return w(e)+".Consumer";case l:return w(e._context)+".Provider";case h:return function(e,t,r){var s=e.displayName;if(s)return s;var i=t.displayName||t.name||"";return""!==i?r+"("+i+")":r}(e,e.render,"ForwardRef");case p:var t=e.displayName||null;return null!==t?t:N(e.type)||"Memo";case f:var r=e,s=r._payload,u=r._init;try{return N(u(s))}catch(y){return null}}return null}t=Symbol.for("react.module.reference");var x,k,j,_,E,A,C,P=Object.assign,S=0;function D(){}D.__reactDisabledLog=!0;var T,U=g.ReactCurrentDispatcher;function O(e,t,r){if(void 0===T)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return"\n"+T+e}var I,R=!1,K="function"==typeof WeakMap?WeakMap:Map;function V(e,t){if(!e||R)return"";var r,s=I.get(e);if(void 0!==s)return s;R=!0;var i,n=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=U.current,U.current=null,function(){if(0===S){x=console.log,k=console.info,j=console.warn,_=console.error,E=console.group,A=console.groupCollapsed,C=console.groupEnd;var e={configurable:!0,enumerable:!0,value:D,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}S++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(p){r=p}Reflect.construct(e,[],a)}else{try{a.call()}catch(p){r=p}e.call(a.prototype)}}else{try{throw Error()}catch(p){r=p}e()}}catch(f){if(f&&r&&"string"==typeof f.stack){for(var o=f.stack.split("\n"),l=r.stack.split("\n"),c=o.length-1,u=l.length-1;c>=1&&u>=0&&o[c]!==l[u];)u--;for(;c>=1&&u>=0;c--,u--)if(o[c]!==l[u]){if(1!==c||1!==u)do{if(c--,--u<0||o[c]!==l[u]){var h="\n"+o[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),"function"==typeof e&&I.set(e,h),h}}while(c>=1&&u>=0);break}}}finally{R=!1,U.current=i,function(){if(0===--S){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:P({},e,{value:x}),info:P({},e,{value:k}),warn:P({},e,{value:j}),error:P({},e,{value:_}),group:P({},e,{value:E}),groupCollapsed:P({},e,{value:A}),groupEnd:P({},e,{value:C})})}S<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=n}var d=e?e.displayName||e.name:"",m=d?O(d):"";return"function"==typeof e&&I.set(e,m),m}function $(e,t,r){if(null==e)return"";if("function"==typeof e)return V(e,!(!(s=e.prototype)||!s.isReactComponent));var s;if("string"==typeof e)return O(e);switch(e){case d:return O("Suspense");case m:return O("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case h:return V(e.render,!1);case p:return $(e.type,t,r);case f:var i=e,n=i._payload,a=i._init;try{return $(a(n),t,r)}catch(o){}}return""}I=new K;var q=Object.prototype.hasOwnProperty,L={},B=g.ReactDebugCurrentFrame;function M(e){if(e){var t=e._owner,r=$(e.type,e._source,t?t.type:null);B.setExtraStackFrame(r)}else B.setExtraStackFrame(null)}var F=Array.isArray;function z(e){return F(e)}function W(e){return""+e}function G(e){if(function(e){try{return W(e),!1}catch(t){return!0}}(e))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),W(e)}var H,J,X,Y=g.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};X={};var Q,ee=g.ReactCurrentOwner,te=g.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,r=$(e.type,e._source,t?t.type:null);te.setExtraStackFrame(r)}else te.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}function ie(){if(ee.current){var e=N(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Q=!1;var ne={};function ae(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=ie();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t="\n\nCheck the top-level render call using <"+r+">.")}return t}(t);if(!ne[r]){ne[r]=!0;var s="";e&&e._owner&&e._owner!==ee.current&&(s=" It was passed a child from "+N(e._owner.type)+"."),re(e),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,s),re(null)}}}function oe(e,t){if("object"==typeof e)if(z(e))for(var r=0;r<e.length;r++){var s=e[r];se(s)&&ae(s,t)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var i=function(e){if(null===e||"object"!=typeof e)return null;var t=b&&e[b]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof i&&i!==e.entries)for(var n,a=i.call(e);!(n=a.next()).done;)se(n.value)&&ae(n.value,t)}}var le={};u.Fragment=n,u.jsxDEV=function(e,r,i,u,b,g){var w=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===o||e===a||e===d||e===m||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===t||void 0!==e.getModuleId)}(e);if(!w){var x="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(x+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var k,j=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(b);x+=j||ie(),null===e?k="null":z(e)?k="array":void 0!==e&&e.$$typeof===s?(k="<"+(N(e.type)||"Unknown")+" />",x=" Did you accidentally export a JSX literal instead of a component?"):k=typeof e,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",k,x)}var _=function(e,t,r,i,n){var a,o={},l=null,c=null;for(a in void 0!==r&&(G(r),l=""+r),function(e){if(q.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(G(t.key),l=""+t.key),function(e){if(q.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(c=t.ref,function(e,t){if("string"==typeof e.ref&&Y.current&&t&&Y.current.stateNode!==t){var r=N(Y.current.type);X[r]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N(Y.current.type),e.ref),X[r]=!0)}}(t,n)),t)q.call(t,a)&&!Z.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps){var u=e.defaultProps;for(a in u)void 0===o[a]&&(o[a]=u[a])}if(l||c){var h="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var r=function(){H||(H=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(o,h),c&&function(e,t){var r=function(){J||(J=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(o,h)}return function(e,t,r,i,n,a,o){var l={$$typeof:s,type:e,key:t,ref:r,props:o,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,n,i,Y.current,o)}(e,r,i,b,g);if(null==_)return _;if(w){var E=r.children;if(void 0!==E)if(u)if(z(E)){for(var A=0;A<E.length;A++)oe(E[A],e);Object.freeze&&Object.freeze(E)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else oe(E,e)}if(q.call(r,"key")){var C=N(e),P=Object.keys(r).filter(function(e){return"key"!==e}),S=P.length>0?"{key: someKey, "+P.join(": ..., ")+": ...}":"{key: someKey}";le[C+S]||(v('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',S,C,P.length>0?"{"+P.join(": ..., ")+": ...}":"{}",C),le[C+S]=!0)}return e===n?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var s=t[r];if("children"!==s&&"key"!==s){re(e),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",s),re(null);break}}null!==e.ref&&(re(e),v("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(_):function(e){var t,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)t=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==h&&r.$$typeof!==p)return;t=r.propTypes}if(t){var s=N(r);!function(e,t,r,s,i){var n=Function.call.bind(q);for(var a in e)if(n(e,a)){var o=void 0;try{if("function"!=typeof e[a]){var l=Error((s||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}o=e[a](t,a,s,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){o=c}!o||o instanceof Error||(M(i),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",r,a,typeof o),M(null)),o instanceof Error&&!(o.message in L)&&(L[o.message]=!0,M(i),v("Failed %s type: %s",r,o.message),M(null))}}(t,e.props,"prop",s,e)}else void 0===r.PropTypes||Q||(Q=!0,v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",N(r)||"Unknown"));"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}(_),_}}()),u)),c.exports),m={},p=function(){if(h)return m;h=1;var e=t(),r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return m.createRoot=function(t,s){r.usingClientEntryPoint=!0;try{return e.createRoot(t,s)}finally{r.usingClientEntryPoint=!1}},m.hydrateRoot=function(t,s,i){r.usingClientEntryPoint=!0;try{return e.hydrateRoot(t,s,i)}finally{r.usingClientEntryPoint=!1}},m}();
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const f=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},y=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=r.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:n="",children:a,iconNode:o,...l},c)=>r.createElement("svg",{ref:c,...b,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:y("lucide",n),...l},[...o.map(([e,t])=>r.createElement(e,t)),...Array.isArray(a)?a:[a]])),v=(e,t)=>{const s=r.forwardRef(({className:s,...i},n)=>{return r.createElement(g,{ref:n,iconNode:t,className:y(`lucide-${a=f(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i});var a});return s.displayName=f(e),s},w=v("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),N=v("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),x=v("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),k=v("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),j=v("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_=v("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),E=v("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),A=v("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),C=v("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),P=v("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),S=v("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),D=v("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),T=v("palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),U=v("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),O=v("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),I=v("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),R=v("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),K=v("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V=v("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function $(){return d.jsxDEV("div",{className:"flex items-center gap-2 select-none",children:[d.jsxDEV("img",{src:"/assets/images/logo.DxvXttnP.svg",alt:"Kanak Artistry Icon",className:"h-6 w-auto object-contain flex-shrink-0",draggable:!1},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Logo.tsx",lineNumber:11,columnNumber:7},this),d.jsxDEV("img",{src:"/assets/images/logo-text.DtQREPFZ.svg",alt:"Kanak Artistry Wordmark",className:"h-6 w-auto object-contain flex-shrink-0",draggable:!1},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Logo.tsx",lineNumber:18,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Logo.tsx",lineNumber:8,columnNumber:5},this)}function q({onInquireClick:e}){const[t,s]=r.useState(!1),[i,o]=r.useState(!1);r.useEffect(()=>{window.addEventListener("scroll",()=>{s(window.scrollY>50)})},[]),r.useEffect(()=>(i?(document.body.style.position="fixed",document.body.style.width="100%",document.body.style.overflow="hidden"):(document.body.style.position="",document.body.style.width="",document.body.style.overflow=""),()=>{document.body.style.position="",document.body.style.width="",document.body.style.overflow=""}),[i]);const l=e=>{o(!1),setTimeout(()=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)},c=e=>{l(e)};return d.jsxDEV(n.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(t?"bg-white/98 backdrop-blur-sm shadow-lg":"bg-white/95 backdrop-blur-sm"),children:[d.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-5",children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("a",{href:"#home",onClick:e=>{e.preventDefault();const t=e.currentTarget.getAttribute("href");t&&l(t.slice(1))},"aria-label":"Go to Home",className:"cursor-pointer transition-opacity duration-300 hover:opacity-80",children:d.jsxDEV($,{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:91,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:85,columnNumber:11},this),d.jsxDEV("div",{className:"hidden md:flex items-center gap-10",children:[["home","about","gallery","contact"].map(e=>d.jsxDEV("button",{onClick:()=>c(e),className:"capitalize text-[var(--color-neutral-charcoal)] hover:text-[var(--color-gold)] transition-colors tracking-wider text-sm uppercase",children:e},e,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:97,columnNumber:15},this)),d.jsxDEV("button",{onClick:e,className:"px-8 py-3 bg-[var(--color-primary-teal)] text-white rounded-none hover:bg-[var(--color-primary-deep-teal)] transition-colors text-sm uppercase tracking-wider",children:"Inquire"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:95,columnNumber:11},this),d.jsxDEV("button",{className:"md:hidden transition-colors duration-300 z-50 text-[var(--color-neutral-black)]",onClick:()=>o(!i),"aria-label":"Toggle menu","aria-expanded":i,children:i?d.jsxDEV(K,{size:24},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:122,columnNumber:33},this):d.jsxDEV(S,{size:24},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:122,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:83,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:82,columnNumber:7},this),d.jsxDEV(a,{children:i&&d.jsxDEV(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-white border-b border-[var(--color-neutral-light-gray)] overflow-hidden",children:d.jsxDEV("div",{className:"px-6 py-6 flex flex-col gap-4",children:[["home","about","gallery","contact"].map(e=>d.jsxDEV("button",{onClick:()=>c(e),className:"capitalize text-left text-[var(--color-neutral-charcoal)] hover:text-[var(--color-gold)] transition-colors tracking-wider text-sm uppercase w-full py-2",children:e},e,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:139,columnNumber:17},this)),d.jsxDEV("button",{onClick:()=>{e(),o(!1)},className:"px-8 py-3 bg-[var(--color-primary-teal)] text-white rounded-none hover:bg-[var(--color-primary-deep-teal)] transition-colors text-center text-sm uppercase tracking-wider w-full",children:"Inquire"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:137,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:130,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:128,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Navigation.tsx",lineNumber:73,columnNumber:5},this)}function L({onInquireClick:e}){const t=()=>{const e=document.getElementById("gallery");e&&e.scrollIntoView({behavior:"smooth"})};return d.jsxDEV("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[d.jsxDEV("div",{className:"absolute inset-0",children:[d.jsxDEV("div",{className:"absolute inset-0",style:{background:"\n              linear-gradient(135deg, \n                #FAF8F5 0%, \n                #F5E6D3 20%, \n                #E8DCC4 35%, \n                #D4EFEC 50%, \n                #E8DCC4 65%, \n                #F5E6D3 80%, \n                #FAF8F5 100%\n              )\n            "}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:23,columnNumber:9},this),d.jsxDEV("div",{className:"absolute inset-0 opacity-40",children:d.jsxDEV("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[d.jsxDEV("defs",{children:[d.jsxDEV("linearGradient",{id:"tealGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsxDEV("stop",{offset:"0%",style:{stopColor:"var(--color-primary-light-teal)",stopOpacity:.6}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:45,columnNumber:17},this),d.jsxDEV("stop",{offset:"100%",style:{stopColor:"var(--color-primary-teal)",stopOpacity:.2}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:46,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:44,columnNumber:15},this),d.jsxDEV("linearGradient",{id:"goldGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsxDEV("stop",{offset:"0%",style:{stopColor:"var(--color-gold-light)",stopOpacity:.6}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:49,columnNumber:17},this),d.jsxDEV("stop",{offset:"100%",style:{stopColor:"var(--color-gold)",stopOpacity:.2}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:50,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:48,columnNumber:15},this),d.jsxDEV("linearGradient",{id:"lavenderGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsxDEV("stop",{offset:"0%",style:{stopColor:"var(--color-lavender)",stopOpacity:.5}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:53,columnNumber:17},this),d.jsxDEV("stop",{offset:"100%",style:{stopColor:"var(--color-sage)",stopOpacity:.2}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:54,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:52,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:43,columnNumber:13},this),d.jsxDEV("ellipse",{cx:"80%",cy:"20%",rx:"300",ry:"350",fill:"url(#tealGradient)"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:59,columnNumber:13},this),d.jsxDEV("ellipse",{cx:"15%",cy:"60%",rx:"280",ry:"320",fill:"url(#goldGradient)"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:60,columnNumber:13},this),d.jsxDEV("ellipse",{cx:"70%",cy:"75%",rx:"250",ry:"280",fill:"url(#lavenderGradient)"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:61,columnNumber:13},this),d.jsxDEV("circle",{cx:"25%",cy:"25%",r:"180",fill:"url(#goldGradient)"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:62,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:41,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:22,columnNumber:7},this),d.jsxDEV("div",{className:"relative z-10 max-w-5xl mx-auto px-6 text-center py-32",children:[d.jsxDEV(n.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{duration:1,delay:.2},className:"w-24 h-[1px] bg-[var(--color-gold)] mx-auto mb-8"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:70,columnNumber:9},this),d.jsxDEV(n.h6,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-[var(--color-primary-teal)] tracking-[0.3em] uppercase mb-8",children:"Unique Art for Your Space"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:77,columnNumber:9},this),d.jsxDEV(n.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-6 max-w-4xl mx-auto",children:["Conceptual Paintings That ",d.jsxDEV("span",{className:"italic text-[var(--color-primary-teal)]",children:"Whisper Stories"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:92,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:86,columnNumber:9},this),d.jsxDEV(n.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"text-xl text-[var(--color-neutral-charcoal)] max-w-2xl mx-auto mb-12 leading-relaxed",children:"Every piece is meticulously handcrafted and one-of-a-kind, created exclusively for you through thoughtful customization and artistic excellence."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:95,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[d.jsxDEV(n.button,{onClick:e,className:"px-12 py-4 bg-[var(--color-primary-teal)] text-white rounded-none transition-all duration-300 luxury-shadow hover:luxury-shadow-hover hover:bg-[var(--color-primary-deep-teal)]",whileHover:{y:-2},whileTap:{scale:.98},children:d.jsxDEV("h5",{className:"text-white",children:"Compose a Bespoke Work"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:110,columnNumber:11},this),d.jsxDEV(n.button,{onClick:t,className:"px-12 py-4 bg-white/90 backdrop-blur-sm border border-[var(--color-neutral-charcoal)] text-[var(--color-neutral-charcoal)] rounded-none transition-all duration-300 hover:border-[var(--color-gold)] hover:text-[var(--color-gold)] hover:bg-white",whileHover:{y:-2},whileTap:{scale:.98},children:d.jsxDEV("h5",{children:"View Portfolio"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:125,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:119,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:104,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{duration:1,delay:.7},className:"w-24 h-[1px] bg-[var(--color-gold)] mx-auto mt-16"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:68,columnNumber:7},this),d.jsxDEV(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},className:"absolute bottom-12 left-1/2 -translate-x-1/2",children:d.jsxDEV(n.button,{onClick:t,animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-[var(--color-primary-teal)] hover:text-[var(--color-gold)] transition-colors",children:d.jsxDEV(w,{size:24,strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:151,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:145,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:139,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Hero.tsx",lineNumber:17,columnNumber:5},this)}function B({src:e,alt:t,title:s,isOpen:i,onClose:o}){return r.useEffect(()=>{const e=e=>{"Escape"===e.key&&o()};return i&&(window.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[i,o]),d.jsxDEV(a,{children:i&&d.jsxDEV(d.Fragment,{children:d.jsxDEV(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&o()},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:d.jsxDEV(n.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},onClick:e=>{e.preventDefault(),e.stopPropagation()},className:"relative max-w-4xl max-h-[90vh] w-full flex flex-col",children:[d.jsxDEV("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),o()},className:"absolute -top-12 right-0 text-white hover:text-[var(--color-gold)] transition-colors z-10","aria-label":"Close lightbox",children:d.jsxDEV(K,{size:32},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:71,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:62,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-center justify-center flex-1 bg-black/50 rounded-lg overflow-hidden",children:d.jsxDEV("img",{src:e,alt:t,title:s,className:"max-w-full max-h-[80vh] object-contain"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:76,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:75,columnNumber:15},this),d.jsxDEV(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-6 text-center bg-black/80 backdrop-blur-sm rounded-lg p-4",children:d.jsxDEV("h3",{className:"text-white mb-2",children:s},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:91,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:50,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:38,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:36,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/ImageLightbox.tsx",lineNumber:34,columnNumber:5},this)}function M(e){const[t,s]=r.useState(!1),[i,n]=r.useState(!1),{src:a,alt:o,style:l,className:c,onClick:u,...h}=e;return t?d.jsxDEV("div",{className:`inline-block bg-gray-100 text-center align-middle pointer-events-auto ${c??""}`,style:l,children:d.jsxDEV("div",{className:"flex items-center justify-center w-full h-full",children:d.jsxDEV("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image",...h,"data-original-url":a},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/figma/ImageWithFallback.tsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/figma/ImageWithFallback.tsx",lineNumber:31,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/figma/ImageWithFallback.tsx",lineNumber:27,columnNumber:5},this):d.jsxDEV("img",{src:a,alt:o,className:`${c??""} ${i?"loaded":""} pointer-events-none`,style:l,...h,onError:()=>{s(!0)},onLoad:()=>{n(!0)},draggable:!1},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/figma/ImageWithFallback.tsx",lineNumber:36,columnNumber:5},this)}const F=[{id:1,image:"/assets/images/living_tree_of_grace.B65h3O3n.webp",title:"The Living Tree of Grace",medium:"Canvas Painting",description:"A vibrant, detailed Tree of Life on a sky-blue and white textured background. This auspicious tree reflects the flow of life, growth, and harmony, bringing prosperity, positivity, and the fulfillment of wishes.",alt:"The Living Tree of Grace - Vibrant tree of life painting on sky-blue and white textured background representing prosperity and harmony"},{id:2,image:"/assets/images/Garden_of_living_light.BRm9If-U.webp",title:"Garden of Living Light",medium:"Canvas Painting",description:"A vibrant garden of flowers against a peach and sky-blue background, with golden dots shimmering like energy—reflecting growth, vitality, and the blossoming of life's potential.",alt:"Garden of Living Light - Vibrant garden flowers with golden shimmer on peach and sky-blue background symbolizing growth and vitality"},{id:3,image:"/assets/images/Light%20of%20the%20Lord.Bt1l2wKT.webp",title:"Light of the Lord",medium:"Canvas Painting",description:"A textured canvas painting with Shrinathji's face at the center, radiating amidst the glory of the sun. This artwork captures divine light, devotion, and spiritual brilliance.",alt:"Light of the Lord - Shrinathji textured canvas painting with divine sun radiation and spiritual brilliance"},{id:4,image:"/assets/images/Tree%20of%20Abundance.CUthnyEO.webp",title:"Tree of Abundance",medium:"Canvas Painting",description:"A radiant Tree of Life glowing with a golden aura, adorned with vibrant, blooming flowers and graceful golden birds. This artwork reflects divine balance, growth, and the eternal movement of energy through nature.",alt:"Tree of Abundance - Radiant golden tree of life with blooming flowers and graceful birds representing divine balance and growth"},{id:5,image:"/assets/images/The%20sacred%20rise%20of%20the%20lotus.BW3lXStV.webp",title:"The Sacred Rise of the Lotus",medium:"Canvas Painting",description:"A canvas painting of lotuses and their leaves rising toward the light, created with intricate dot work, reflecting purity, growth, and quiet strength.",alt:"The Sacred Rise of the Lotus - Spiritual lotus flower canvas painting with divine energy and intricate dot work"},{id:6,image:"/assets/images/Above%20the%20garden%20dream.Bf6aWKAk.webp",title:"Above the Garden Dream",medium:"Canvas Painting",description:"A canvas painting with a purple background, featuring butterflies and leaves as if seen from above, capturing the mesmerizing beauty and quiet wonder of nature.",alt:"Above the Garden Dream - Ethereal landscape with floating flowers and celestial elements capturing natural beauty"},{id:7,image:"/assets/images/Divya%20Gyaan.Cc_AUqKC.webp",title:"Divya Gyaan",medium:"Painting on MDF",description:"A painting depicting Arjuna and Krishna from the Mahabharata, with Krishna imparting wisdom to Arjuna. Embossed chariot details, surrounding greenery, golden backgrounds, and soft clouds create a pure, serene aura, symbolizing a fresh, receptive mind ready to embrace divine knowledge.",alt:"Divya Gyaan - Divine knowledge spiritual artwork with Krishna and Arjuna from Mahabharata with embossed details and cosmic elements"},{id:8,image:"/assets/images/Circle%20of%20Harmony.BrJo4PAu.webp",title:"Circle of Harmony",medium:"Gond-style Mandala",description:"A Gond-style Tree of Life mandala painting on handmade paper, featuring birds and branches that symbolize protection and harmony, with vibrant patterns reflecting the interconnected energy of life.",alt:"Circle of Harmony - Mandala-inspired art with symmetrical geometric and organic patterns representing cosmic order and unity"},{id:9,image:"/assets/images/Night%20Bloom.B3hBjFAP.webp",title:"Night Bloom",medium:"Canvas Painting",description:"A detailed canvas painting of lotuses and leaves on a deep navy background with white dots like stars, showing calmness, purity, and quiet beauty.",alt:"Night Bloom - Nocturnal flowers and luminous plants against dark mystical background with star-like elements"},{id:10,image:"/assets/images/Tree%20of%20Timeless%20Balance.Bx4RN6_j.webp",title:"Tree of Timeless Balance",medium:"Pattachitra-style",description:"A Pattachitra-style Tree of Life on handmade paper, with upward-reaching branches and intricate detailing on a soft peach background, reflecting balance and growth.",alt:"Tree of Timeless Balance - Symmetrical tree artwork representing eternal equilibrium and stability in Pattachitra style"},{id:11,image:"/assets/images/A%20Journey%20of%20Eternal%20Love%20_%20Divine%20Blessings.BACFzQS6.webp",title:"A Journey of Eternal Love & Divine Blessings",medium:"Triptych Canvas Paintings",description:"Three canvas paintings that are more than colors on canvas—they capture a soulful journey of love, faith, and divine protection.",alt:"A Journey of Eternal Love & Divine Blessings - Spiritual journey artwork triptych with flowing energy and divine blessings"},{id:12,image:"/assets/images/The%20Infinite%20Balance.DQSbfzJC.webp",title:"The Infinite Balance",medium:"Painting on plywood",description:"A masterpiece created on plywood using diverse mediums to achieve intricate detailing and embossing effects. This conceptual artwork depicts universal abundance, harmony, and the interconnected energy of life.",alt:"The Infinite Balance - Intricate plywood artwork with embossed details depicting universal abundance and cosmic harmony"}];function z({onInquireClick:e,onInquireWithArtwork:t}){const s=r.useRef(null),[i,a]=r.useState(!1),[o,l]=r.useState(null);return d.jsxDEV("section",{id:"gallery",ref:s,className:"py-24 bg-[var(--color-neutral-white)]",children:d.jsxDEV("div",{className:"max-w-7xl mx-auto px-6",children:[d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-20",children:[d.jsxDEV("div",{className:"w-16 h-[1px] bg-[var(--color-gold)] mx-auto mb-6"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:158,columnNumber:11},this),d.jsxDEV("h6",{className:"text-[var(--color-primary-teal)] tracking-[0.3em] uppercase mb-6",children:"Portfolio"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:159,columnNumber:11},this),d.jsxDEV("h2",{className:"mb-6",children:"Featured Works"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:162,columnNumber:11},this),d.jsxDEV("p",{className:"max-w-2xl mx-auto text-lg text-[var(--color-neutral-gray)]",children:"Each piece tells a unique story through symbolism, texture, and emotion."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:151,columnNumber:9},this),d.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-24",children:F.map((e,r)=>d.jsxDEV(n.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*r},className:"group",children:[d.jsxDEV("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),(e=>{l({src:e.image,alt:e.alt,title:e.title}),a(!0)})(e)},className:"relative aspect-square overflow-hidden bg-[var(--color-neutral-white)] mb-6 luxury-shadow transition-all duration-500 hover:luxury-shadow-hover cursor-pointer group w-full border-none p-0 bg-transparent",type:"button","aria-label":`View ${e.title}`,children:d.jsxDEV(M,{src:e.image,alt:e.alt,title:e.description,width:800,height:800,loading:"lazy",className:"w-full h-full object-contain transition-transform duration-700 group-hover:scale-105 cursor-pointer pointer-events-none"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:189,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:179,columnNumber:15},this),d.jsxDEV("div",{className:"space-y-3",children:[d.jsxDEV("h6",{className:"text-[var(--color-gold)] uppercase tracking-wider text-sm",children:e.medium},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:200,columnNumber:17},this),d.jsxDEV("h4",{children:e.title},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:203,columnNumber:17},this),d.jsxDEV("p",{className:"text-[var(--color-neutral-gray)] leading-relaxed",children:e.description},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:204,columnNumber:17},this),d.jsxDEV(n.button,{onClick:r=>{r.preventDefault(),r.stopPropagation(),t?.(e.title,e.medium)},className:"inline-flex items-center gap-2 text-[var(--color-primary-teal)] hover:text-[var(--color-gold)] transition-colors mt-4 group/btn",whileHover:{x:4},children:[d.jsxDEV("span",{children:"Commission Similar"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:216,columnNumber:19},this),d.jsxDEV(N,{size:16,className:"transition-transform group-hover/btn:translate-x-1"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:199,columnNumber:15},this)]},e.id,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:171,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:169,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center bg-[var(--color-neutral-white)] py-20 px-12 luxury-shadow",children:[d.jsxDEV("div",{className:"w-16 h-[1px] bg-[var(--color-gold)] mx-auto mb-8"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:232,columnNumber:11},this),d.jsxDEV("h3",{className:"mb-6",children:["Ready to Commission Your ",d.jsxDEV("span",{className:"luxury-accent italic",children:"Unique Piece"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:233,columnNumber:57},this),"?"]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:233,columnNumber:11},this),d.jsxDEV("p",{className:"max-w-2xl mx-auto mb-10 text-lg text-[var(--color-neutral-gray)]",children:"Each artwork is custom-made exclusively for you. No two pieces are ever the same."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:234,columnNumber:11},this),d.jsxDEV(n.button,{onClick:e,className:"px-12 py-4 bg-[var(--color-primary-teal)] text-white rounded-none transition-all duration-300 luxury-shadow hover:luxury-shadow-hover hover:bg-[var(--color-primary-deep-teal)]",whileHover:{y:-2},whileTap:{scale:.98},children:d.jsxDEV("h5",{className:"text-white",children:"Begin Your Commission"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:243,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:237,columnNumber:11},this),d.jsxDEV("div",{className:"w-16 h-[1px] bg-[var(--color-gold)] mx-auto mt-8"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:245,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:225,columnNumber:9},this),o&&d.jsxDEV(B,{src:o.src,alt:o.alt,title:o.title,isOpen:i,onClose:()=>{a(!1),setTimeout(()=>l(null),300)}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:250,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:149,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Gallery.tsx",lineNumber:148,columnNumber:5},this)}const W=["Mixed Media","Relief Art","Acrylic","Textured Art","Madhubani Painting","Warli Art","Gond Art","Lippan Art","Folk Art"],G=[{icon:T,title:"Diverse Mediums",description:"From traditional folk art to contemporary mixed media, exploring various artistic expressions."},{icon:A,title:"Textured Depth",description:"Incorporating relief and dimensional elements that add physical depth to visual stories."},{icon:_,title:"Emotional Resonance",description:"Creating pieces that resonate emotionally through symbolism and layered meaning."},{icon:x,title:"One-of-a-Kind",description:"Every piece is unique, handcrafted exclusively for you with thoughtful customization."}];function H(){const e=r.useRef(null);return d.jsxDEV("section",{id:"about",ref:e,className:"py-24 bg-[var(--color-neutral-cream)]",children:d.jsxDEV("div",{className:"max-w-7xl mx-auto px-6",children:[d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-20",children:[d.jsxDEV("div",{className:"w-16 h-[1px] bg-[var(--color-gold)] mx-auto mb-6"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:58,columnNumber:11},this),d.jsxDEV("h6",{className:"text-[var(--color-primary-teal)] tracking-[0.3em] uppercase mb-6",children:"The Artist"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:59,columnNumber:11},this),d.jsxDEV("h2",{className:"mb-4",children:"Monika Mistri"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:62,columnNumber:11},this),d.jsxDEV("p",{className:"text-[var(--color-gold)] italic text-xl",children:"Creating Golden Moments in Art"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:51,columnNumber:9},this),d.jsxDEV("div",{className:"grid lg:grid-cols-2 gap-16 items-start mb-24",children:[d.jsxDEV(n.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:d.jsxDEV("div",{className:"bg-white p-6 md:p-12 luxury-shadow",children:[d.jsxDEV("h3",{className:"mb-6",children:"Artistic Philosophy"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:75,columnNumber:15},this),d.jsxDEV("div",{className:"w-12 h-[1px] bg-[var(--color-gold)] mb-8"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:76,columnNumber:15},this),d.jsxDEV("p",{className:"mb-6 leading-relaxed text-[var(--color-neutral-charcoal)]",children:"Every brushstroke carries intention. Every texture tells a story. Our work explores the intersection of traditional Indian folk art and contemporary artistic expression, creating pieces that honor heritage while speaking to modern sensibilities."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:77,columnNumber:15},this),d.jsxDEV("p",{className:"mb-6 leading-relaxed text-[var(--color-neutral-charcoal)]",children:"We believe art should be more than decoration—it should be a conversation, a memory, a piece of your story. That's why each commission is crafted uniquely for you, ensuring your artwork is truly one-of-a-kind."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:83,columnNumber:15},this),d.jsxDEV("p",{className:"leading-relaxed text-[var(--color-neutral-charcoal)]",children:"Patterns of Folk Art to the bold textures of contemporary mixed media, we bring diverse techniques together to create something entirely personal and meaningful."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:68,columnNumber:11},this),d.jsxDEV(n.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-8",children:[d.jsxDEV("div",{className:"border border-[var(--color-gold-light)] p-6 md:p-10",children:[d.jsxDEV("h4",{className:"mb-6 text-[var(--color-primary-teal)]",children:"What We Create"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:103,columnNumber:15},this),d.jsxDEV("ul",{className:"space-y-4",children:[d.jsxDEV("li",{className:"flex items-start gap-4",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-[var(--color-gold)] rounded-full mt-3 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:106,columnNumber:19},this),d.jsxDEV("p",{children:"Customized art pieces tailored to your vision"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:107,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:105,columnNumber:17},this),d.jsxDEV("li",{className:"flex items-start gap-4",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-[var(--color-gold)] rounded-full mt-3 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:110,columnNumber:19},this),d.jsxDEV("p",{children:"Contemporary wall art with unique textures"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:111,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:109,columnNumber:17},this),d.jsxDEV("li",{className:"flex items-start gap-4",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-[var(--color-gold)] rounded-full mt-3 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:114,columnNumber:19},this),d.jsxDEV("p",{children:"Folk-inspired paintings honoring tradition"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:115,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:113,columnNumber:17},this),d.jsxDEV("li",{className:"flex items-start gap-4",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-[var(--color-gold)] rounded-full mt-3 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:118,columnNumber:19},this),d.jsxDEV("p",{children:"Handcrafted décor artworks for your space"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:119,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:104,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:102,columnNumber:13},this),d.jsxDEV("div",{className:"bg-[var(--color-primary-teal)] p-6 md:p-10 text-white",children:[d.jsxDEV("h4",{className:"mb-4 text-white",children:"Our Specialty"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:125,columnNumber:15},this),d.jsxDEV("p",{className:"text-white/90 leading-relaxed",children:"Each piece is a unique conversation between tradition and contemporary artistry, making your commissioned artwork truly one-of-a-kind."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:67,columnNumber:9},this),d.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mb-24",children:G.map((e,t)=>d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*t},className:"text-center p-6 md:p-8 bg-white luxury-shadow transition-all duration-300 hover:luxury-shadow-hover",children:[d.jsxDEV("div",{className:"w-16 h-16 mx-auto mb-6 flex items-center justify-center border border-[var(--color-gold-light)]",children:d.jsxDEV(e.icon,{className:"text-[var(--color-primary-teal)]",size:28,strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:146,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:145,columnNumber:15},this),d.jsxDEV("h5",{className:"mb-4",children:e.title},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:148,columnNumber:15},this),d.jsxDEV("p",{className:"text-sm leading-relaxed text-[var(--color-neutral-gray)]",children:e.description},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:149,columnNumber:15},this)]},t,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:137,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:135,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center",children:[d.jsxDEV("h3",{className:"mb-12",children:"Styles & Mediums"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:162,columnNumber:11},this),d.jsxDEV("div",{className:"flex flex-wrap justify-center gap-4",children:W.map((e,t)=>d.jsxDEV(n.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.1*t},className:"px-8 py-3 border border-[var(--color-gold-light)] text-[var(--color-neutral-charcoal)] hover:border-[var(--color-gold)] hover:bg-[var(--color-neutral-cream)] transition-all duration-300",children:d.jsxDEV("h6",{children:e},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:173,columnNumber:17},this)},t,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:165,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/About.tsx",lineNumber:44,columnNumber:5},this)}const J=[{icon:P,title:"Location",content:"104, Vashisth Vanijyam, Vallabh Vidyanagar, Anand, Gujarat 388120, India"},{icon:U,title:"Phone",content:"+91 87580 46166",link:"tel:+918758046166"},{icon:j,title:"Hours",content:"Monday to Friday\n10:00 AM - 4:00 PM"},{icon:C,title:"Inquire",content:"Send an Inquiry",action:!0}];function X({onInquireClick:e}){return d.jsxDEV("section",{id:"contact",className:"py-24 bg-[var(--color-neutral-white)]",children:d.jsxDEV("div",{className:"max-w-7xl mx-auto px-6",children:[d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-20",children:[d.jsxDEV("div",{className:"w-16 h-[1px] bg-[var(--color-gold)] mx-auto mb-6"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:53,columnNumber:11},this),d.jsxDEV("h6",{className:"text-[var(--color-primary-teal)] tracking-[0.3em] uppercase mb-6",children:"Get in Touch"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:54,columnNumber:11},this),d.jsxDEV("h2",{className:"mb-6",children:"Let's Create Together"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:57,columnNumber:11},this),d.jsxDEV("p",{className:"max-w-2xl mx-auto text-lg text-[var(--color-neutral-gray)]",children:"Have a vision for your space? Want to commission a unique piece? We'd love to hear from you and bring your artistic vision to life."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:46,columnNumber:9},this),d.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:J.map((t,r)=>d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*r},onClick:()=>(t=>{t.action?e():t.link&&(window.location.href=t.link)})(t),className:"bg-[var(--color-neutral-white)] p-6 md:p-8 luxury-shadow transition-all duration-300 "+(t.link||t.action?"cursor-pointer hover:luxury-shadow-hover hover:border-[var(--color-gold)] border border-transparent":"border border-transparent"),children:[d.jsxDEV("div",{className:"w-12 h-12 flex items-center justify-center border border-[var(--color-gold-light)] mb-6",children:d.jsxDEV(t.icon,{className:"text-[var(--color-primary-teal)]",size:20,strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:80,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:79,columnNumber:15},this),d.jsxDEV("h5",{className:"mb-3",children:t.title},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:82,columnNumber:15},this),d.jsxDEV("p",{className:"text-sm whitespace-pre-line leading-relaxed",children:t.content},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:83,columnNumber:15},this)]},r,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:67,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:65,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"bg-[var(--color-neutral-white)] py-16 px-6 md:px-12 text-center luxury-shadow",children:[d.jsxDEV("h3",{className:"mb-6",children:"Are you looking for Bespoke Artwork?"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:96,columnNumber:11},this),d.jsxDEV("p",{className:"max-w-2xl mx-auto mb-10 text-lg text-[var(--color-neutral-gray)]",children:"Located in Vallabh Vidyanagar, Anand, Gujarat. Schedule a visit to discuss your custom piece."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:97,columnNumber:11},this),d.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[d.jsxDEV(n.button,{onClick:e,className:"w-full sm:w-auto px-6 md:px-12 py-4 bg-[var(--color-primary-teal)] text-white rounded-none transition-all duration-300 luxury-shadow hover:luxury-shadow-hover hover:bg-[var(--color-primary-deep-teal)]",whileHover:{y:-2},whileTap:{scale:.98},children:d.jsxDEV("h5",{className:"text-white",children:"Schedule a Visit"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:108,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:102,columnNumber:13},this),d.jsxDEV(n.a,{href:"tel:+918758046166",className:"w-full sm:w-auto px-6 md:px-12 py-4 border border-[var(--color-neutral-charcoal)] text-[var(--color-neutral-charcoal)] rounded-none transition-all duration-300 hover:border-[var(--color-gold)] hover:text-[var(--color-gold)] inline-flex items-center justify-center",whileHover:{y:-2},whileTap:{scale:.98},children:d.jsxDEV("h5",{children:"Call Now"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:116,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:89,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mt-20 grid md:grid-cols-3 gap-12 text-center",children:[{number:"100+",label:"Unique Pieces Created"},{number:"100%",label:"Handcrafted Quality"},{number:"1:1",label:"Personalized Consultation"}].map((e,t)=>d.jsxDEV("div",{children:[d.jsxDEV("h2",{className:"text-[var(--color-primary-teal)] mb-3",children:e.number},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:135,columnNumber:15},this),d.jsxDEV("div",{className:"w-12 h-[1px] bg-[var(--color-gold)] mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:136,columnNumber:15},this),d.jsxDEV("p",{className:"text-[var(--color-neutral-gray)]",children:e.label},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:137,columnNumber:15},this)]},t,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:134,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:122,columnNumber:9},this),d.jsxDEV(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mt-20 text-center",children:[d.jsxDEV("h5",{className:"mb-8 tracking-widest uppercase text-[var(--color-neutral-charcoal)]",children:"Follow Our Journey"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:150,columnNumber:11},this),d.jsxDEV("div",{className:"flex justify-center gap-8",children:[d.jsxDEV("a",{href:"https://www.instagram.com/kanak.artistry?igsh=MXc2d2RyM2pkOXgwcA==",target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-3 text-[var(--color-neutral-gray)] hover:text-[var(--color-primary-teal)] transition-colors",children:[d.jsxDEV("div",{className:"p-4 border border-[var(--color-neutral-light-gray)] rounded-full group-hover:border-[var(--color-primary-teal)] transition-colors luxury-shadow group-hover:luxury-shadow-hover bg-white",children:d.jsxDEV(E,{size:28,strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:159,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:158,columnNumber:15},this),d.jsxDEV("span",{className:"text-sm uppercase tracking-wider",children:"Instagram"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:152,columnNumber:13},this),d.jsxDEV("a",{href:"https://youtube.com/@kanakartistry?si=DsVAwEhc99zAfw9c",target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-3 text-[var(--color-neutral-gray)] hover:text-[var(--color-primary-teal)] transition-colors",children:[d.jsxDEV("div",{className:"p-4 border border-[var(--color-neutral-light-gray)] rounded-full group-hover:border-[var(--color-primary-teal)] transition-colors luxury-shadow group-hover:luxury-shadow-hover bg-white",children:d.jsxDEV(V,{size:28,strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:170,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:169,columnNumber:15},this),d.jsxDEV("span",{className:"text-sm uppercase tracking-wider",children:"YouTube"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:44,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Contact.tsx",lineNumber:43,columnNumber:5},this)}class Y extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Z extends Y{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q extends Y{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ee extends Y{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var te;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(te||(te={}));class re{constructor(e,{headers:t={},customFetch:r,region:s=te.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return s(this,arguments,void 0,function*(e,t={}){var r;let s,i;try{const{headers:n,method:a,body:o,signal:l,timeout:c}=t;let u={},{region:h}=t;h||(h=this.region);const d=new URL(`${this.url}/${e}`);let m;h&&"any"!==h&&(u["x-region"]=h,d.searchParams.set("forceFunctionRegion",h)),o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=o):"string"==typeof o?(u["Content-Type"]="text/plain",m=o):"undefined"!=typeof FormData&&o instanceof FormData?m=o:(u["Content-Type"]="application/json",m=JSON.stringify(o)):m=!o||"string"==typeof o||"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer||"undefined"!=typeof FormData&&o instanceof FormData?o:JSON.stringify(o);let p=l;c&&(i=new AbortController,s=setTimeout(()=>i.abort(),c),l?(p=i.signal,l.addEventListener("abort",()=>i.abort())):p=i.signal);const f=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),n),body:m,signal:p}).catch(e=>{throw new Z(e)}),y=f.headers.get("x-relay-error");if(y&&"true"===y)throw new Q(f);if(!f.ok)throw new ee(f);let b,g=(null!==(r=f.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return b="application/json"===g?yield f.json():"application/octet-stream"===g||"application/pdf"===g?yield f.blob():"text/event-stream"===g?f:"multipart/form-data"===g?yield f.formData():yield f.text(),{data:b,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof ee||n instanceof Q?n.context:void 0}}finally{s&&clearTimeout(s)}})}}var se=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},ie=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,s=null,i=null,n=e.status,a=e.statusText;if(e.ok){var o,l;if("HEAD"!==r.method){var c;const t=await e.text();""===t||(s="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null===(c=r.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(o=r.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),h=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&h&&h.length>1&&(i=parseInt(h[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(s)&&(s.length>1?(t={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,i=null,n=406,a="Not Acceptable"):s=1===s.length?s[0]:null)}else{var u;const i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&404===e.status&&(s=[],t=null,n=200,a="OK")}catch(h){404===e.status&&""===i?(n=204,a="No Content"):t={message:i}}if(t&&r.isMaybeSingle&&(null==t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,n=200,a="OK"),t&&r.shouldThrowOnError)throw new se(t)}return{error:t,data:s,count:i,status:n,statusText:a}});return this.shouldThrowOnError||(s=s.catch(e=>{var t;let r="";const s=null==e?void 0:e.cause;if(s){var i,n,a,o;const t=null!==(i=null==s?void 0:s.message)&&void 0!==i?i:"",l=null!==(n=null==s?void 0:s.code)&&void 0!==n?n:"";r=`${null!==(a=null==e?void 0:e.name)&&void 0!==a?a:"FetchError"}: ${null==e?void 0:e.message}`,r+=`\n\nCaused by: ${null!==(o=null==s?void 0:s.name)&&void 0!==o?o:"Error"}: ${t}`,l&&(r+=` (${l})`),(null==s?void 0:s.stack)&&(r+=`\n${s.stack}`)}else{var l;r=null!==(l=null==e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:r,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},ne=class extends ie{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const n=i?`${i}.order`:"order",a=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const i=void 0===s?"offset":`${s}.offset`,n=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(n,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:n="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ae=new RegExp("[,()]");var oe=class extends ne{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&ae.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&ae.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let i="";"plain"===s?i="pl":"phrase"===s?i="ph":"websearch"===s&&(i="w");const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},le=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=null!=t?t:{},i=r?"HEAD":"GET";let n=!1;const a=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),s&&l.append("Prefer",`count=${s}`),new oe({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const{url:i,headers:n}=this.cloneRequestState();if(t&&n.append("Prefer",`count=${t}`),r||n.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);i.searchParams.set("columns",e.join(","))}}return new oe({method:"POST",url:i,headers:n,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var n;const{url:a,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&a.searchParams.set("on_conflict",t),s&&o.append("Prefer",`count=${s}`),i||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set("columns",e.join(","))}}return new oe({method:"POST",url:a,headers:o,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}update(e,{count:t}={}){var r;const{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new oe({method:"PATCH",url:s,headers:i,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:e}={}){var t;const{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new oe({method:"DELETE",url:r,headers:s,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},ce=class e{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=s}from(e){if(!e||"string"!=typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new le(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:i}={}){var n;let a;const o=new URL(`${this.url}/rpc/${e}`);let l;const c=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(c)),u=r&&Object.values(t).some(c);u?(a="POST",l=t):r||s?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(a="POST",l=t);const h=new Headers(this.headers);return u?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new oe({method:a,url:o,headers:h,schema:this.schemaName,body:l,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}};class ue{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const he="2.0.0",de=he;var me,pe,fe,ye,be,ge;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(me||(me={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(pe||(pe={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(fe||(fe={})),function(e){e.websocket="websocket"}(ye||(ye={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(be||(be={}));class ve{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const s=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,r;const s=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},i=(new TextEncoder).encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,r){var s,i;const n=e.topic,a=null!==(s=e.ref)&&void 0!==s?s:"",o=null!==(i=e.join_ref)&&void 0!==i?i:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(n.length>255)throw new Error(`topic length ${n.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`metadata length ${u.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+n.length+l.length+u.length,d=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(d),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,o.length),m.setUint8(p++,a.length),m.setUint8(p++,n.length),m.setUint8(p++,l.length),m.setUint8(p++,u.length),m.setUint8(p++,t),Array.from(o,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(a,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(n,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>m.setUint8(p++,e.charCodeAt(0)));var f=new Uint8Array(d.byteLength+r.byteLength);return f.set(new Uint8Array(d),0),f.set(new Uint8Array(r),d.byteLength),f.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){const r=JSON.parse(e),[s,i,n,a,o]=r;return t({join_ref:s,ref:i,topic:n,event:a,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,s)}_decodeUserBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2),n=t.getUint8(3),a=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=r.decode(e.slice(o,o+s));o+=s;const c=r.decode(e.slice(o,o+i));o+=i;const u=r.decode(e.slice(o,o+n));o+=n;const h=e.slice(o,e.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,m={type:this.BROADCAST_EVENT,event:c,payload:d};return n>0&&(m.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class we{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(ge||(ge={}));const Ne=(e,t,r={})=>{var s;const i=null!==(s=r.skipTypes)&&void 0!==s?s:[];return t?Object.keys(t).reduce((r,s)=>(r[s]=xe(s,e,t,i),r),{}):{}},xe=(e,t,r,s)=>{const i=t.find(t=>t.name===e),n=null==i?void 0:i.type,a=r[e];return n&&!s.includes(n)?ke(n,a):je(a)},ke=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Ce(t,r)}switch(e){case ge.bool:return _e(t);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return Ee(t);case ge.json:case ge.jsonb:return Ae(t);case ge.timestamp:return Pe(t);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:default:return je(t)}},je=e=>e,_e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ee=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ae=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Ce=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s;const n=e.slice(1,r);try{s=JSON.parse("["+n+"]")}catch(i){s=n?n.split(","):[]}return s.map(e=>ke(t,e))}return e},Pe=e=>"string"==typeof e?e.replace(" ","T"):e,Se=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class De{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Te,Ue,Oe,Ie;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Te||(Te={}));class Re{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Re.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Re.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Re.syncDiff(this.state,e,t,r),s())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const i=this.cloneDeep(e),n=this.transformState(t),a={},o={};return this.map(i,(e,t)=>{n[e]||(o[e]=t)}),this.map(n,(e,t)=>{const r=i[e];if(r){const s=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),n=t.filter(e=>i.indexOf(e.presence_ref)<0),l=r.filter(e=>s.indexOf(e.presence_ref)<0);n.length>0&&(a[e]=n),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(i,{joins:a,leaves:o},r,s)}static syncDiff(e,t,r,s){const{joins:i,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(t,s)=>{var i;const n=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(s),n.length>0){const r=e[t].map(e=>e.presence_ref),s=n.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...s)}r(t,n,s)}),this.map(n,(t,r)=>{let i=e[t];if(!i)return;const n=r.map(e=>e.presence_ref);i=i.filter(e=>n.indexOf(e.presence_ref)<0),e[t]=i,s(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return t[r]="metas"in s?s.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Ue||(Ue={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Oe||(Oe={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Ie||(Ie={}));class Ke{constructor(e,t={config:{}},r){var s,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new De(this,fe.join,this.params,this.timeout),this.rejoinTimer=new we(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fe.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Re(this),this.broadcastEndpointURL=Se(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(s=this.params.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:n,presence:a,private:o}}=this.params,l=null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==s?s:[],c=!!this.bindings[Oe.PRESENCE]&&this.bindings[Oe.PRESENCE].length>0||!0===(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled),u={},h={broadcast:n,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Ie.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Ie.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==t){const s=this.bindings.postgres_changes,i=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,n=[];for(let r=0;r<i;r++){const i=s[r],{filter:{event:a,schema:o,table:l,filter:c}}=i,u=t&&t[r];if(!(u&&u.event===a&&Ke.isFilterValueEqual(u.schema,o)&&Ke.isFilterValueEqual(u.table,l)&&Ke.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=pe.errored,void(null==e||e(Ie.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));n.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=n,void(e&&e(Ie.SUBSCRIBED))}null==e||e(Ie.SUBSCRIBED)}).receive("error",t=>{this.state=pe.errored,null==e||e(Ie.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Ie.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===pe.joined&&e===Oe.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var s;if(null==t)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const n={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(s=r.timeout)&&void 0!==s?s:this.timeout);if(202===a.status)return{success:!0};let o=a.statusText;try{const e=await a.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var s,i,n;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(i=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===i?void 0:i.broadcast)||void 0===n?void 0:n.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("error",()=>r("error")),a.receive("timeout",()=>r("timed out"))});{const{event:n,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(s=e.body)||void 0===s?void 0:s.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new De(this,fe.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),n}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new De(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,i;const n=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=fe;if(r&&[a,o,l,c].indexOf(n)>=0&&r!==this._joinRef())return;let u=this._onMessage(n,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter(e=>{var t,r,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===n}).map(e=>e.callback(u,r)):null===(i=this.bindings[n])||void 0===i||i.filter(e=>{var r,s,i,a,o,l,c,u;if(["broadcast","presence","postgres_changes"].includes(n)){if("id"in e){const n=e.id,l=null===(r=e.filter)||void 0===r?void 0:r.event;return n&&(null===(s=t.ids)||void 0===s?void 0:s.includes(n))&&("*"===l||(null==l?void 0:l.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))&&(!(null===(a=e.filter)||void 0===a?void 0:a.table)||e.filter.table===(null===(o=t.data)||void 0===o?void 0:o.table))}{const r=null===(c=null===(l=null==e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===c?void 0:c.toLocaleLowerCase();return"*"===r||r===(null===(u=null==t?void 0:t.event)||void 0===u?void 0:u.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===n}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:s,type:i,errors:n}=e,a={schema:t,table:r,commit_timestamp:s,eventType:i,new:{},old:{},errors:n};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&Ke.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fe.close,{},e)}_onError(e){this._on(fe.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Ne(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Ne(e.columns,e.old_record)),t}}const Ve=()=>{},$e=[1e3,2e3,5e3,1e4];class qe{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ve,this.ref=0,this.reconnectTimer=null,this.vsn=de,this.logger=Ve,this.conn=null,this.sendBuffer=[],this.serializer=new ve,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ye.websocket}`,this.httpEndpoint=Se(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ue.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case me.connecting:return be.Connecting;case me.open:return be.Open;case me.closing:return be.Closing;default:return be.Closed}}isConnected(){return this.connectionState()===be.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(e=>e.topic===r);if(s)return s;{const r=new Ke(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:s,ref:i}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},100)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(o){this.log("error","error in heartbeat callback",o)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:r,payload:s,ref:i}=e,n=i?`(${i})`:"",a=s.status||"";this.log("receive",`${a} ${t} ${r} ${n}`.trim(),s),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,s,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===me.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===me.open||this.conn.readyState===me.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fe.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.91.0"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(fe.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new we(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,i,n,a,o,l,c,u,h,d;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(s=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==s?s:25e3,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(n=null==e?void 0:e.accessToken)&&void 0!==n?n:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:Ve,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:de,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>$e[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null==e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case he:this.encode=null!==(h=null==e?void 0:e.encode)&&void 0!==h?h:this.serializer.encode.bind(this.serializer),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var Le=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===t.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Be(e){return e.join("")}var Me=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Be(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Be(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Be(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Be(e.namespace)}`}),!0}catch(t){if(t instanceof Le&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Le&&409===r.status)return;throw r}}};function Fe(e){return e.join("")}var ze=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fe(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fe(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fe(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fe(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fe(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fe(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Le&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Le&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},We=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=function(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:i,body:n,headers:a}){const o=function(e,t,r){const s=new URL(t,e);if(r)for(const[i,n]of Object.entries(r))void 0!==n&&s.searchParams.set(i,n);return s.toString()}(e.baseUrl,s,i),l=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),c=await t(o,{method:r,headers:{...n?{"Content-Type":"application/json"}:{},...l,...a},body:n?JSON.stringify(n):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),d=h&&u?JSON.parse(u):u;if(!c.ok){const e=h?d:void 0,t=e?.error;throw new Le(t?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:c.status,headers:c.headers,data:d}}}}({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Me(this.client,t),this.tableOps=new ze(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ge=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function He(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var Je=class extends Ge{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xe=class extends Ge{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Ye=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Ze=e=>{if(Array.isArray(e))return e.map(e=>Ze(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const s=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=Ze(r)}),t};function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=Qe(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Qe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(t){et(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const st=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)};async function it(e,t,r,s,i,n){return new Promise((a,o)=>{e(r,((e,t,r,s)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&s?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(s)?(i.headers=rt({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),rt(rt({},i),r)):i})(t,s,i,n)).then(e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>(async(e,t,r)=>{e instanceof await Response&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(null==r?void 0:r.statusCode)||s+"";t(new Je(st(r),s,i))}).catch(e=>{t(new Xe(st(e),e))}):t(new Xe(st(e),e))})(e,o,s))})}async function nt(e,t,r,s){return it(e,"GET",t,r,s)}async function at(e,t,r,s,i){return it(e,"POST",t,s,i,r)}async function ot(e,t,r,s,i){return it(e,"PUT",t,s,i,r)}async function lt(e,t,r,s,i){return it(e,"DELETE",t,s,i,r)}var ct=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}}};let ut;ut=Symbol.toStringTag;var ht=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ut]="BlobDownloadBuilder",this.promise=null}asStream(){return new ct(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}}};const dt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pt=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ye(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var i=this;try{let n;const a=rt(rt({},mt),s);let o=rt(rt({},i.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const l=a.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",a.cacheControl),l&&n.append("metadata",i.encodeMetadata(l)),n.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(n=r,n.has("cacheControl")||n.append("cacheControl",a.cacheControl),l&&!n.has("metadata")&&n.append("metadata",i.encodeMetadata(l))):(n=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),("undefined"!=typeof ReadableStream&&n instanceof ReadableStream||n&&"object"==typeof n&&"pipe"in n&&"function"==typeof n.pipe)&&!a.duplex&&(a.duplex="half")),(null==s?void 0:s.headers)&&(o=rt(rt({},o),s.headers));const c=i._removeEmptyFolders(t),u=i._getFinalPath(c),h=await("PUT"==e?ot:at)(i.fetch,`${i.url}/object/${u}`,n,rt({headers:o},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var i=this;const n=i._removeEmptyFolders(e),a=i._getFinalPath(n),o=new URL(i.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let e;const t=rt({upsert:mt.upsert},s),a=rt(rt({},i.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType),{data:{path:n,fullPath:(await ot(i.fetch,o.toString(),e,{headers:a})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const i=rt({},r.headers);(null==t?void 0:t.upsert)&&(i["x-upsert"]="true");const n=await at(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:i}),a=new URL(r.url+n.url),o=a.searchParams.get("token");if(!o)throw new Ge("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await at(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async copy(e,t,r){var s=this;try{return{data:{path:(await at(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var s=this;try{let i=s._getFinalPath(e),n=await at(s.fetch,`${s.url}/object/sign/${i}`,rt({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:s.headers});const a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n={signedUrl:encodeURI(`${s.url}${n.signedURL}${a}`)},{data:n,error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var s=this;try{const i=await at(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(e=>rt(rt({},e),{},{signedUrl:e.signedURL?encodeURI(`${s.url}${e.signedURL}${n}`):null})),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}download(e,t){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=s?`?${s}`:"",n=this._getFinalPath(e);return new ht(()=>nt(this.fetch,`${this.url}/${r}/${n}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ze(await nt(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await async function(e,t,r){return it(e,"HEAD",t,rt(rt({},r),{},{noResolveJson:!0}),void 0)}(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(He(s)&&s instanceof Xe){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&s.push(i);const n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&s.push(a);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const i=rt(rt(rt({},dt),t),{},{prefix:e||""});return{data:await at(s.fetch,`${s.url}/object/list/${s.bucketId}`,i,{headers:s.headers},r),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const s=rt({},e);return{data:await at(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ft="2.91.0",yt={"X-Client-Info":`storage-js/${ft}`};var bt=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);(null==s?void 0:s.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=rt(rt({},yt),t),this.fetch=Ye(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await nt(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await nt(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await at(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await ot(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},gt=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},yt),t),this.fetch=Ye(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&r.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&r.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&r.set("search",e.search);const s=r.toString(),i=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await nt(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!(e=>!(!e||"string"!=typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new Ge("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new We({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(e,t){const r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(i){if(s)throw i;return{data:null,error:i}}}}})}};const vt={"X-Client-Info":`storage-js/${ft}`,"Content-Type":"application/json"};var wt=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nt(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}var xt=class extends wt{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kt=class extends wt{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const jt=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),_t=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);async function Et(e,t,r,s,i,n){return new Promise((a,o)=>{e(r,((e,t,r,s)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return s?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(s)?(i.headers=rt({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,rt(rt({},i),r)):i})(t,s,i,n)).then(e=>{if(!e.ok)throw e;if(null==s?void 0:s.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>a(e)).catch(e=>(async(e,t,r)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){const r=e.status||500,s=e;if("function"==typeof s.json)s.json().then(e=>{const s=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new xt(_t(e),r,s))}).catch(()=>{const e=r+"";t(new xt(s.statusText||`HTTP ${r} error`,r,e))});else{const e=r+"";t(new xt(s.statusText||`HTTP ${r} error`,r,e))}}else t(new kt(_t(e),e))})(e,o,s))})}async function At(e,t,r,s,i){return Et(e,"POST",t,s,i,r)}var Ct=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},vt),t),this.fetch=jt(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await At(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await At(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}},Pt=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},vt),t),this.fetch=jt(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await At(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:await At(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await At(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}},St=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},vt),t),this.fetch=jt(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await At(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}},Dt=class extends St{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Tt(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(e={}){return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},Tt=class extends Ct{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){return(()=>super.createIndex)().call(this,rt(rt({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return(()=>super.listIndexes)().call(this,rt(rt({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new Ut(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ut=class extends Pt{constructor(e,t,r,s,i){super(e,t,i),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,rt(rt({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,rt(rt({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var t=this;return(()=>super.listVectors)().call(t,rt(rt({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,rt(rt({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,rt(rt({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Ot=class extends bt{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new pt(this.url,this.headers,e,this.fetch)}get vectors(){return new Dt(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gt(this.url+"/iceberg",this.headers,this.fetch)}};const It="2.91.0",Rt=3e4,Kt={"X-Client-Info":`gotrue-js/${It}`},Vt="X-Supabase-Api-Version",$t=Date.parse("2024-01-01T00:00:00.0Z"),qt="2024-01-01",Lt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Bt extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Mt(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Ft extends Bt{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class zt extends Bt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wt extends Bt{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Gt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ht extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jt extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xt extends Wt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yt extends Wt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zt extends Wt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qt extends Wt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function er(e){return Mt(e)&&"AuthRetryableFetchError"===e.name}class tr extends Wt{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class rr extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ir=" \t\n\r=".split(""),nr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ir.length;t+=1)e[ir[t].charCodeAt(0)]=-2;for(let t=0;t<sr.length;t+=1)e[sr[t].charCodeAt(0)]=t;return e})();function ar(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(sr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(sr[e]),t.queuedBits-=6}}function or(e,t,r){const s=nr[e];if(!(s>-1)){if(-2===s)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function lr(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,s,r)};for(let a=0;a<e.length;a+=1)or(e.charCodeAt(a),i,n);return t.join("")}function cr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function ur(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)or(e.charCodeAt(i),r,s);return new Uint8Array(t)}function hr(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach(e=>ar(e,r,s)),ar(null,r,s),t.join("")}const dr=()=>"undefined"!=typeof window&&"undefined"!=typeof document,mr={tested:!1,writable:!1},pr=()=>{if(!dr())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch(t){mr.tested=!0,mr.writable=!1}return mr.writable},fr=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),yr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},br=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(s){return r}},gr=async(e,t)=>{await e.removeItem(t)};class vr{constructor(){this.promise=new vr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function wr(e){const t=e.split(".");if(3!==t.length)throw new rr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Lt.test(t[r]))throw new rr("JWT not in base64url format");return{header:JSON.parse(lr(t[0])),payload:JSON.parse(lr(t[1])),signature:ur(t[2]),raw:{header:t[0],payload:t[1]}}}function Nr(e){return("0"+e.toString(16)).substr(-2)}async function xr(e,t,r=!1){const s=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Nr).join("")}();let i=s;r&&(i+="/PASSWORD_RECOVERY"),await yr(e,`${t}-code-verifier`,i);const n=await async function(e){if("undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder)return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(s);return[n,s===n?"plain":"s256"]}vr.promiseConstructor=Promise;const kr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,jr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(e){if(!jr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Er(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ar(e){return JSON.parse(JSON.stringify(e))}const Cr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pr=[502,503,504];async function Sr(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Qt(Cr(e),0);if(Pr.includes(e.status))throw new Qt(Cr(e),e.status);let s,i;try{s=await e.json()}catch(a){throw new zt(Cr(a),a)}const n=function(e){const t=e.headers.get(Vt);if(!t)return null;if(!t.match(kr))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(a){return null}}(e);if(n&&n.getTime()>=$t&&"object"==typeof s&&s&&"string"==typeof s.code?i=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(i=s.error_code),i){if("weak_password"===i)throw new tr(Cr(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Gt}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new tr(Cr(s),e.status,s.weak_password.reasons);throw new Ft(Cr(s),e.status||500,i)}async function Dr(e,t,r,s){var i;const n=Object.assign({},null==s?void 0:s.headers);n[Vt]||(n[Vt]=qt),(null==s?void 0:s.jwt)&&(n.Authorization=`Bearer ${s.jwt}`);const a=null!==(i=null==s?void 0:s.query)&&void 0!==i?i:{};(null==s?void 0:s.redirectTo)&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,r,s,i,n){const a=((e,t,r,s)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))})(t,s,{},n);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw new Qt(Cr(l),0)}if(o.ok||await Sr(o),null==s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(l){await Sr(l)}}(e,t,r+o,{headers:n,noResolveJson:null==s?void 0:s.noResolveJson},0,null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function Tr(e){var t;let r=null;var s;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s))),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ur(e){const t=Tr(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Or(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ir(e){return{data:e,error:null}}function Rr(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a}=e,o=i(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a},user:Object.assign({},o)},error:null}}function Kr(e){return e}const Vr=["global","local","others"];class $r{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=fr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Vr[0]){if(Vr.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vr.join(", ")}`);try{return await Dr(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Dr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Or})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=i(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await Dr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Rr,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Mt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Dr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Or})}catch(t){if(Mt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,i,n,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Dr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==i?i:""},xform:Kr});if(c.error)throw c.error;const u=await c.json(),h=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Mt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){_r(e);try{return await Dr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Or})}catch(t){if(Mt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){_r(e);try{return await Dr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Or})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){_r(e);try{return await Dr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Or})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_r(e.userId);try{const{data:t,error:r}=await Dr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){_r(e.userId),_r(e.id);try{return{data:await Dr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,s,i,n,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Dr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==i?i:""},xform:Kr});if(c.error)throw c.error;const u=await c.json(),h=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Mt(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Dr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Dr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Dr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Dr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Dr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}}function qr(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lr=!!(globalThis&&pr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Br extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mr extends Br{}async function Fr(e,t,r){const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async s=>{if(!s){if(0===t)throw new Mr(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr)try{await globalThis.navigator.locks.query()}catch(i){}return await r()}try{return await r()}finally{}}))}function zr(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Wr(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Gr extends Error{constructor({message:e,code:t,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(i=null!=s?s:r instanceof Error?r.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=t}}class Hr extends Gr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Jr({error:e,options:t}){var r,s,i;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Gr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(r=n.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new Gr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(s=n.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new Gr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=n.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new Gr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Gr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Gr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===n.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Gr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!rs(t))return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new Gr({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Gr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Xr({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Gr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Gr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!rs(t))return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new Gr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Yr=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Zr(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,n=i(e,["challenge","user","excludeCredentials"]),a=ur(t).buffer,o=Object.assign(Object.assign({},r),{id:ur(r.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:a,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let e=0;e<s.length;e++){const t=s[e];l.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:ur(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return l}function Qr(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=i(e,["challenge","allowCredentials"]),n=ur(t).buffer,a=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:ur(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function es(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:hr(new Uint8Array(e.response.attestationObject)),clientDataJSON:hr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function ts(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e,s=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hr(new Uint8Array(i.authenticatorData)),clientDataJSON:hr(new Uint8Array(i.clientDataJSON)),signature:hr(new Uint8Array(i.signature)),userHandle:i.userHandle?hr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function rs(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ss(){var e,t;return!!(dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const is={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ns={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function as(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),s={};for(const i of e)if(i)for(const e in i){const n=i[e];if(void 0!==n)if(Array.isArray(n))s[e]=n;else if(r(n))s[e]=n;else if(t(n)){const r=s[e];t(r)?s[e]=as(r,n):s[e]=as(n)}else s[e]=n}return s}class os{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},i){try{const{data:n,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!n)return{data:null,error:a};const o=null!=s?s:Yr.createNewAbortSignal();if("create"===n.webauthn.type){const{user:e}=n.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(n.webauthn.type){case"create":{const t=function(e,t){return as(is,e,t||{})}(n.webauthn.credential_options.publicKey,null==i?void 0:i.create),{data:r,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hr("Browser returned unexpected credential type",t)}:{data:null,error:new Hr("Empty credential response",t)}}catch(t){return{data:null,error:Jr({error:t,options:e})}}}({publicKey:t,signal:o});return r?{data:{factorId:e,challengeId:n.id,webauthn:{type:n.webauthn.type,credential_response:r}},error:null}:{data:null,error:s}}case"request":{const t=function(e,t){return as(ns,e,t||{})}(n.webauthn.credential_options.publicKey,null==i?void 0:i.request),{data:r,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hr("Browser returned unexpected credential type",t)}:{data:null,error:new Hr("Empty credential response",t)}}catch(t){return{data:null,error:Xr({error:t,options:e})}}}(Object.assign(Object.assign({},n.webauthn.credential_options),{publicKey:t,signal:o}));return r?{data:{factorId:e,challengeId:n.id,webauthn:{type:n.webauthn.type,credential_response:r}},error:null}:{data:null,error:s}}}}catch(n){return Mt(n)?{data:null,error:n}:{data:null,error:new zt("Unexpected error in challenge",n)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:s}={}},i){if(!t)return{data:null,error:new Bt("rpId is required for WebAuthn authentication")};try{if(!ss())return{data:null,error:new zt("Browser does not support WebAuthn",null)};const{data:n,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:i});if(!n)return{data:null,error:a};const{webauthn:o}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(n){return Mt(n)?{data:null,error:n}:{data:null,error:new zt("Unexpected error in authenticate",n)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:s}={}},i){if(!t)return{data:null,error:new Bt("rpId is required for WebAuthn registration")};try{if(!ss())return{data:null,error:new zt("Browser does not support WebAuthn",null)};const{data:n,error:a}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then(t=>{var r;return null===(r=t.data)||void 0===r?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};const{data:o,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:i});return o?this._verify({factorId:n.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(n){return Mt(n)?{data:null,error:n}:{data:null,error:new zt("Unexpected error in register",n)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const ls={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function cs(e,t,r){return await r()}const us={};class hs{get jwks(){var e,t;return null!==(t=null===(e=us[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=us[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ls),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=hs.nextInstanceID[this.storageKey])&&void 0!==t?t:0,hs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&dr()&&(this._logPrefix(),this.logDebugMessages),this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $r({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fr(i.fetch),this.lock=i.lock||cs,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&dr()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=Fr:this.lock=cs,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new os(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:pr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qr(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qr(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${It}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(dr()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(s){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),dr()&&this.detectSessionInUrl&&"none"!==r){const{data:s,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return Mt(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return{error:i}}const{session:n,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",a),await this._saveSession(n),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Mt(t)?this._returnResult({error:t}):this._returnResult({error:new zt("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const i=await Dr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:Tr}),{data:n,error:a}=i;if(a||!n)return this._returnResult({data:{user:null,session:null},error:a});const o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(i){if(Mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var t,r,s;try{let i;if("email"in e){const{email:r,password:s,options:n}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await xr(this.storage,this.storageKey)),i=await Dr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:r,password:s,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:o},xform:Tr})}else{if(!("phone"in e))throw new Jt("You must provide either an email or phone number and a password");{const{phone:t,password:n,options:a}=e;i=await Dr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(s=null==a?void 0:a.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Tr})}}const{data:n,error:a}=i;if(a||!n)return await gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:s,options:i}=e;t=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Ur})}else{if(!("phone"in e))throw new Jt("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:i}=e;t=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Ur})}}const{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const e=new Ht;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,i,n,a,o,l,c,u,h;let d,m;if("message"in e)d=e.message,m=e.signature;else{const{chain:u,wallet:h,statement:p,options:f}=e;let y;if(dr())if("object"==typeof h)y=h;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");y=e.ethereum}else{if("object"!=typeof h||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const b=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href),g=await y.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!g||0===g.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const v=zr(g[0]);let w=null===(r=null==f?void 0:f.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!w){const e=await y.request({method:"eth_chainId"});w=parseInt(e,16)}d=function(e){var t;const{chainId:r,domain:s,expirationTime:i,issuedAt:n=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const m=`${u?`${u}://${s}`:s} wants you to sign in with your Ethereum account:\n${zr(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let p=`URI: ${h}\nVersion: ${d}\nChain ID: ${r}${a?`\nNonce: ${a}`:""}\nIssued At: ${n.toISOString()}`;if(i&&(p+=`\nExpiration Time: ${i.toISOString()}`),o&&(p+=`\nNot Before: ${o.toISOString()}`),l&&(p+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}p+=e}return`${m}\n${p}`}({domain:b.host,address:v,statement:p,uri:b.href,version:"1",chainId:w,nonce:null===(s=null==f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(n=null===(i=null==f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==n?n:new Date,expirationTime:null===(a=null==f?void 0:f.signInWithEthereum)||void 0===a?void 0:a.expirationTime,notBefore:null===(o=null==f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.resources}),m=await y.request({method:"personal_sign",params:[Wr(d),v]})}try{const{data:t,error:r}=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:m},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Tr});if(r)throw r;if(!t||!t.session||!t.user){const e=new Ht;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(p){if(Mt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,r,s,i,n,a,o,l,c,u,h,d;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:h,wallet:d,statement:f,options:y}=e;let b;if(dr())if("object"==typeof d)b=d;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");b=e.solana}else{if("object"!=typeof d||!(null==y?void 0:y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=d}const g=new URL(null!==(t=null==y?void 0:y.url)&&void 0!==t?t:window.location.href);if("signIn"in b&&b.signIn){const e=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:g.host,uri:g.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in b&&"function"==typeof b.signMessage&&"publicKey"in b&&"object"==typeof b&&b.publicKey&&"toBase58"in b.publicKey&&"function"==typeof b.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${g.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${g.href}`,`Issued At: ${null!==(s=null===(r=null==y?void 0:y.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...(null===(i=null==y?void 0:y.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null===(n=null==y?void 0:y.signInWithSolana)||void 0===n?void 0:n.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null===(a=null==y?void 0:y.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null===(o=null==y?void 0:y.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null===(l=null==y?void 0:y.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==y?void 0:y.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await b.signMessage((new TextEncoder).encode(m),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:hr(p)},(null===(h=e.options)||void 0===h?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Tr});if(r)throw r;if(!t||!t.session||!t.user){const e=new Ht;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(f){if(Mt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async _exchangeCodeForSession(e){const t=await br(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new Zt;const{data:t,error:i}=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tr});if(await gr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user){const e=new Ht;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",t.session)},0)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:i})}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:i,nonce:n}=e,a=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Tr}),{data:o,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Ht;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,s,i,n;try{if("email"in e){const{email:s,options:i}=e;let n=null,a=null;"pkce"===this.flowType&&([n,a]=await xr(this.storage,this.storageKey));const{error:o}=await Dr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:n,code_challenge_method:a},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:r}=e,{data:a,error:o}=await Dr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(n=null==r?void 0:r.channel)&&void 0!==n?n:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o})}throw new Jt("You must provide either an email or phone number.")}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var t,r;try{let s,i;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:n,error:a}=await Dr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tr});if(a)throw a;if(!n)throw new Error("An error occurred on token verification.");const o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(Mt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,r,s,i,n;try{let a=null,o=null;"pkce"===this.flowType&&([a,o]=await xr(this.storage,this.storageKey));const l=await Dr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Ir});return(null===(i=l.data)||void 0===i?void 0:i.url)&&dr()&&!(null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Gt;const{error:s}=await Dr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Mt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:n}=await Dr(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:n})}if("phone"in e){const{phone:r,type:s,options:i}=e,{data:n,error:a}=await Dr(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:a})}throw new Jt("You must provide either an email or phone number and a type")}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await br(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Er()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,s)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,s)}return t.value||"string"!=typeof r||(t.value=!0),Reflect.get(e,r,s)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Dr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Or}):await this._useSession(async e=>{var t,r,s;const{data:i,error:n}=e;if(n)throw n;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Dr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0,xform:Or}):{data:{user:null},error:new Gt}})}catch(t){if(Mt(t))return function(e){return Mt(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Gt;const n=s.session;let a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await xr(this.storage,this.storageKey));const{data:l,error:c}=await Dr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:n.access_token,xform:Or});if(c)throw c;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),this._returnResult({data:{user:n.user},error:null})})}catch(r){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gt;const t=Date.now()/1e3;let r=t,s=!0,i=null;const{payload:n}=wr(e.access_token);if(n.exp&&(r=n.exp,s=r<=t),s){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:s,error:n}=await this._getUser(e.access_token);if(n)throw n;i={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(Mt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:s,error:i}=t;if(i)throw i;e=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Gt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!dr())throw new Xt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Yt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Xt("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yt("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:n,expires_in:a,expires_at:o,token_type:l}=e;if(!(i&&a&&n&&l))throw new Xt("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let h=c+u;o&&(h=parseInt(o));const{data:d,error:m}=await this._getUser(i);if(m)throw m;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:u,expires_at:h,refresh_token:n,token_type:l,user:d.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(r){if(Mt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await br(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return this._returnResult({error:i});const n=null===(r=s.session)||void 0===r?void 0:r.access_token;if(n){const{error:t}=await this.admin.signOut(n,e);if(t&&(!function(e){return Mt(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:s},error:i}=t;if(i)throw i;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(i){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=await xr(this.storage,this.storageKey,!0));try{return await Dr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:s}=await this._useSession(async t=>{var r,s,i,n,a;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await Dr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==a?a:void 0})});if(s)throw s;return dr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(r){if(Mt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:s,data:{session:i}}=t;if(s)throw s;const{options:n,provider:a,token:o,access_token:l,nonce:c}=e,u=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(r=null==i?void 0:i.access_token)&&void 0!==r?r:void 0,body:{provider:a,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Tr}),{data:h,error:d}=u;return d?this._returnResult({data:{user:null,session:null},error:d}):h&&h.session&&h.user?(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:d})):this._returnResult({data:{user:null,session:null},error:new Ht})}catch(s){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Mt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:n}=t;if(n)throw n;return await Dr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Dr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tr})),s=(e,t)=>{const r=200*Math.pow(2,e);return t&&er(t)&&Date.now()+r-i<Rt},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!s(n,null))return void e(t)}catch(i){if(!s(n,i))return void t(i)}})()}))}catch(i){if(this._debug(t,"error",i),Mt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}var r,s}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),dr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await br(this.storage,this.storageKey);if(i&&this.userStorage){let t=await br(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await yr(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Er()}else if(i&&!i.user&&!i.user){const e=await br(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(i.user=e.user,await gr(this.storage,this.storageKey+"-user"),await yr(this.storage,this.storageKey,i)):i.user=Er()}if(this._debug(r,"session from storage",i),!this._isValidSession(i))return this._debug(r,"session is not valid"),void(null!==i&&await this._removeSession());const n=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<9e4;if(this._debug(r,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(er(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null==e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return void this._debug(r,"error",i)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vr;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Gt;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={data:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(s,"error",i),Mt(i)){const e={data:null,error:i};return er(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(i){s.push(i)}});if(await Promise.all(i),s.length>0){for(let e=0;e<s.length;e+=1);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gr(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await yr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const s=Ar(e);await yr(this.storage,this.storageKey,s)}else{const e=Ar(t);await yr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gr(this.storage,this.storageKey),await gr(this.storage,this.storageKey+"-code-verifier"),await gr(this.storage,this.storageKey+"-user"),this.userStorage&&await gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rt);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-t)/Rt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Br))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await xr(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?this._returnResult({data:null,error:i}):await Dr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:n}=t;if(n)return this._returnResult({data:null,error:n});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await Dr(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(s=null==o?void 0:o.totp)||void 0===s?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return this._returnResult({data:null,error:i});const n=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?es(e.webauthn.credential_response):ts(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await Dr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:n,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:o}))})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return this._returnResult({data:null,error:i});const n=await Dr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});if(n.error)return n;const{data:a}=n;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Zr(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Qr(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])s.all.push(i),"verified"===i.status&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=wr(r.access_token);let n=null;i.aal&&(n=i.aal);let a=n;return(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(a="aal2"),{data:{currentLevel:n,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await Dr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Gt});const n=await Dr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&dr()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n})}catch(r){if(Mt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Gt});const n=await Dr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&dr()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n})}catch(r){if(Mt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await Dr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(e){if(Mt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?(await Dr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gt})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>s)return r;const{data:i,error:n}=await Dr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return i.keys&&0!==i.keys.length?(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(t=>t.kid===e),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:s,payload:i,signature:n,raw:{header:a,payload:o}}=wr(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=s.alg&&!s.alg.startsWith("HS")&&s.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(s.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:i,header:s,signature:n},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(s.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,n,function(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const t=1024*(s-55296)&65535;s=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}cr(s,t)}}(e,e=>t.push(e)),new Uint8Array(t)}(`${a}.${o}`))))throw new rr("Invalid JWT signature");return{data:{claims:i,header:s,signature:n},error:null}}catch(r){if(Mt(r))return this._returnResult({data:null,error:r});throw r}}}hs.nextInstanceID={};const ds=hs;let ms="";ms="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ps={headers:{"X-Client-Info":`supabase-js-${ms}/2.91.0`}},fs={schema:"public"},ys={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bs={};function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=gs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=gs(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==gs(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(r),!0).forEach(function(t){vs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var xs=class extends ds{constructor(e){super(e)}},ks=class{constructor(e,t,r){var s,i;this.supabaseUrl=e,this.supabaseKey=t;const n=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(s){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",n),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",n),this.storageUrl=new URL("storage/v1",n),this.functionsUrl=new URL("functions/v1",n);const a=`sb-${n.hostname.split(".")[0]}-auth-token`,o=function(e,t){var r,s;const{db:i,auth:n,realtime:a,global:o}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Ns(Ns({},l),i),auth:Ns(Ns({},c),n),realtime:Ns(Ns({},u),a),storage:{},global:Ns(Ns(Ns({},h),o),{},{headers:Ns(Ns({},null!==(r=null==h?void 0:h.headers)&&void 0!==r?r:{}),null!==(s=null==o?void 0:o.headers)&&void 0!==s?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:fs,realtime:bs,auth:Ns(Ns({},ys),{},{storageKey:a}),global:ps});var l;this.storageKey=null!==(s=o.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(i=o.global.headers)&&void 0!==i?i:{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch),this.fetch=((e,t,r)=>{const s=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r),i=Headers;return async(r,n)=>{var a;const o=null!==(a=await t())&&void 0!==a?a:e;let l=new i(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(r,Ns(Ns({},n),{},{headers:l}))}})(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Ns({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>{}),this.rest=new ce(new URL("rest/v1",n).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new Ot(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new re(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,r=this;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return null!==(e=null===(t=s.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:n,flowType:a,lock:o,debug:l,throwOnError:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xs({url:this.authUrl.href,headers:Ns(Ns({},d),u),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new qe(this.realtimeUrl.href,Ns(Ns({},e),{},{params:Ns(Ns({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}};!function(){if("undefined"!=typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(null==t)return!1;const r=t.match(/^v(\d+)\./);r&&parseInt(r[1],10)}();const js=new ks("https://cxdilpipsfdkihcfwbha.supabase.co","sb_publishable_pdvdpD7O6ayyoXCw7jve6g_jLaAhpye",void 0);async function _s(){try{const e=await fetch("https://api.ipify.org?format=json");return(await e.json()).ip||"unknown"}catch{return"unknown"}}function Es({isOpen:e,onClose:t,initialArtType:s="",initialMedium:i=""}){const[o,l]=r.useState({name:"",email:"",phone:"",artType:"",size:"",budget:"",message:"",timeline:""});r.useEffect(()=>{s&&l(e=>({...e,artType:s}))},[s]);const[c,u]=r.useState(!1),[h,m]=r.useState(!1),[p,f]=r.useState(null),y=e=>{l({...o,[e.target.name]:e.target.value})};return d.jsxDEV(a,{children:e&&d.jsxDEV(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&t()},children:d.jsxDEV(n.div,{id:"inquiry-modal-content",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3},className:"bg-white w-[95%] sm:w-full max-w-2xl max-h-[90vh] overflow-y-auto luxury-shadow rounded-lg",onClick:e=>e.stopPropagation(),children:c?d.jsxDEV(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-10 md:p-20 text-center",children:[d.jsxDEV(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:"w-20 h-20 border-2 border-[var(--color-gold)] flex items-center justify-center mx-auto mb-8",children:d.jsxDEV(I,{className:"text-[var(--color-primary-teal)]",size:32},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:337,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:331,columnNumber:17},this),d.jsxDEV("div",{className:"w-16 h-[1px] bg-[var(--color-gold)] mx-auto mb-6"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:339,columnNumber:17},this),d.jsxDEV("h3",{className:"mb-4",children:"Thank You"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:340,columnNumber:17},this),d.jsxDEV("p",{className:"text-lg text-[var(--color-neutral-gray)]",children:"Your inquiry has been received. We'll reach out to you soon to discuss your custom artwork."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:341,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:326,columnNumber:15},this):d.jsxDEV(d.Fragment,{children:[d.jsxDEV("div",{className:"bg-[var(--color-primary-teal)] text-white p-6 md:p-10 relative",children:[d.jsxDEV("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:opacity-70 transition-opacity p-2",children:d.jsxDEV(K,{size:24},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:162,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:158,columnNumber:19},this),d.jsxDEV("div",{className:"w-12 h-[1px] bg-[var(--color-gold)] mb-4"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:164,columnNumber:19},this),d.jsxDEV("h3",{className:"text-white mb-2 text-xl md:text-2xl",children:"Commission Your Artwork"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:165,columnNumber:19},this),d.jsxDEV("p",{className:"text-white/80 text-sm md:text-base",children:"Let's create something unique together"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:166,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:157,columnNumber:17},this),d.jsxDEV("form",{onSubmit:async e=>{e.preventDefault(),e.stopPropagation();const r=[];if(o.name||r.push("Name"),o.email||r.push("Email"),o.phone||r.push("Phone"),o.artType||r.push("Art Type"),o.message||r.push("Vision"),r.length>0)f(`Please fill in all required fields: ${r.join(", ")}`);else{m(!0),f(null);try{const e=await async function(e){try{const t=await _s(),r=(new Date).toISOString(),s={name:e.name,email:e.email,phone:e.phone,art_type:e.artType,size:e.size,budget:e.budget,message:e.message,timeline:e.timeline,ip_address:t,submitted_at:r,user_agent:navigator.userAgent,status:"pending"},{data:i,error:n}=await js.from("queries").insert([s]).select().single();if(n)throw new Error(n.message);return i}catch(t){throw t}}(o),r={name:e?.name??o.name,email:e?.email??o.email,phone:e?.phone??o.phone,art_type:e?.art_type??o.artType,size:e?.size??o.size,budget:e?.budget??o.budget,message:e?.message??o.message,timeline:e?.timeline??o.timeline,submitted_at:e?.submitted_at??(new Date).toISOString(),ip_address:e?.ip_address??"",user_agent:e?.user_agent??navigator.userAgent};try{const{data:e,error:t}=await js.functions.invoke("send-inquiry-notification",{body:r,headers:{Authorization:"Bearer sb_publishable_pdvdpD7O6ayyoXCw7jve6g_jLaAhpye"}})}catch(s){}u(!0),setTimeout(()=>{u(!1),l({name:"",email:"",phone:"",artType:"",size:"",budget:"",message:"",timeline:""}),t()},3e3)}catch(i){f(i instanceof Error?i.message:"Failed to submit inquiry. Please try again.")}finally{m(!1)}}},className:"p-6 md:p-10",children:[d.jsxDEV("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"name",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Your Name *"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:176,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:175,columnNumber:23},this),d.jsxDEV("input",{type:"text",id:"name",name:"name",value:o.name,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors text-base",placeholder:"Enter your name"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:178,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:174,columnNumber:21},this),d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"email",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Email Address *"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:191,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:190,columnNumber:23},this),d.jsxDEV("input",{type:"email",id:"email",name:"email",value:o.email,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors text-base",placeholder:"your.email@example.com"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:193,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:189,columnNumber:21},this),d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"phone",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Phone Number *"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:206,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:205,columnNumber:23},this),d.jsxDEV("input",{type:"tel",id:"phone",name:"phone",value:o.phone,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors text-base",placeholder:"+91 XXXXX XXXXX"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:208,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:204,columnNumber:21},this),d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"artType",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Art Type *"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:221,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:220,columnNumber:23},this),d.jsxDEV("input",{type:"text",id:"artType",name:"artType",value:o.artType,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors text-base",placeholder:"e.g., Madhubani, Mixed Media"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:223,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:219,columnNumber:21},this),d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"size",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Preferred Size"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:236,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:235,columnNumber:23},this),d.jsxDEV("input",{type:"text",id:"size",name:"size",value:o.size,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors text-base",placeholder:"e.g., 24x36 inches"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:238,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:234,columnNumber:21},this),d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"timeline",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Timeline"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:251,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:250,columnNumber:23},this),d.jsxDEV("select",{id:"timeline",name:"timeline",value:o.timeline,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors bg-white text-base",children:[d.jsxDEV("option",{value:"",children:"When do you need it?"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:260,columnNumber:25},this),d.jsxDEV("option",{value:"flexible",children:"Flexible"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:261,columnNumber:25},this),d.jsxDEV("option",{value:"1-2-weeks",children:"1-2 weeks"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:262,columnNumber:25},this),d.jsxDEV("option",{value:"3-4-weeks",children:"3-4 weeks"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:263,columnNumber:25},this),d.jsxDEV("option",{value:"1-2-months",children:"1-2 months"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:264,columnNumber:25},this),d.jsxDEV("option",{value:"2-months-plus",children:"2+ months"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:265,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:253,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:249,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:173,columnNumber:19},this),d.jsxDEV("div",{className:"mb-6",children:[d.jsxDEV("label",{htmlFor:"budget",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Budget Range"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:272,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:271,columnNumber:21},this),d.jsxDEV("input",{type:"text",id:"budget",name:"budget",value:o.budget,onChange:y,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors text-base",placeholder:"Your budget range"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:270,columnNumber:19},this),d.jsxDEV("div",{className:"mb-8",children:[d.jsxDEV("label",{htmlFor:"message",className:"block mb-2",children:d.jsxDEV("h6",{className:"text-sm md:text-base",children:"Tell Me About Your Vision *"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:287,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:286,columnNumber:21},this),d.jsxDEV("textarea",{id:"message",name:"message",value:o.message,onChange:y,rows:5,className:"w-full px-4 py-3 border border-[var(--color-neutral-light-gray)] focus:border-[var(--color-primary-teal)] focus:outline-none transition-colors resize-none text-base",placeholder:"Describe your vision, color preferences, themes, or any specific ideas..."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:289,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:285,columnNumber:19},this),p&&d.jsxDEV(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded text-sm",children:[d.jsxDEV("p",{className:"font-semibold",children:"Submission Error"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:306,columnNumber:23},this),d.jsxDEV("p",{children:p},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:307,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:301,columnNumber:21},this),d.jsxDEV("button",{type:"submit",disabled:h,className:"w-full px-8 py-4 bg-[var(--color-primary-teal)] text-white rounded-none hover:bg-[var(--color-primary-deep-teal)] transition-all duration-300 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed luxury-shadow hover:luxury-shadow-hover",children:[d.jsxDEV(I,{size:20},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:316,columnNumber:21},this),d.jsxDEV("h5",{className:"text-white text-base",children:h?"Sending...":"Send Inquiry"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:317,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:311,columnNumber:19},this),d.jsxDEV("p",{className:"text-center mt-6 text-sm text-[var(--color-neutral-gray)]",children:"We'll get back to you within 24 hours during business hours"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:320,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:134,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/InquiryModal.tsx",lineNumber:132,columnNumber:5},this)}function As(){const e=(new Date).getFullYear();return d.jsxDEV("footer",{className:"bg-[var(--color-neutral-black)] text-white",children:d.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-12 md:py-16",children:[d.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-12 mb-12 md:mb-16",children:[d.jsxDEV("div",{className:"lg:col-span-1",children:d.jsxDEV(n.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsxDEV("img",{src:"/assets/images/text.BXHwkRnw.svg",alt:"Kanak Artistry",className:"h-10 md:h-12 mb-6"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:27,columnNumber:15},this),d.jsxDEV("div",{className:"w-12 h-[1px] bg-[var(--color-gold)] mb-4"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:28,columnNumber:15},this),d.jsxDEV("p",{className:"text-white/60 leading-relaxed max-w-sm mb-6",children:"Creating unique, handcrafted conceptual art pieces that tell your story through color, texture, and emotion."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:29,columnNumber:15},this),d.jsxDEV("div",{className:"flex gap-4",children:[d.jsxDEV("a",{href:"https://www.instagram.com/kanak.artistry?igsh=MXc2d2RyM2pkOXgwcA==",target:"_blank",rel:"noopener noreferrer",className:"p-2 border border-white/20 rounded-full hover:border-[var(--color-gold)] hover:text-[var(--color-gold)] text-white/60 transition-colors","aria-label":"Instagram",children:d.jsxDEV(E,{size:20},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:43,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:36,columnNumber:17},this),d.jsxDEV("a",{href:"https://youtube.com/@kanakartistry?si=DsVAwEhc99zAfw9c",target:"_blank",rel:"noopener noreferrer",className:"p-2 border border-white/20 rounded-full hover:border-[var(--color-gold)] hover:text-[var(--color-gold)] text-white/60 transition-colors","aria-label":"YouTube",children:d.jsxDEV(V,{size:20},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:52,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:45,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:35,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:21,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:20,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("h5",{className:"text-white mb-6 uppercase tracking-wider text-sm",children:"Quick Links"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:60,columnNumber:13},this),d.jsxDEV("nav",{className:"flex flex-col gap-3",children:["home","about","gallery","contact"].map(e=>d.jsxDEV("button",{onClick:()=>(e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})})(e),className:"text-white/60 hover:text-[var(--color-gold)] transition-colors text-left capitalize text-sm",children:e},e,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:63,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:61,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:59,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("h5",{className:"text-white mb-6 uppercase tracking-wider text-sm",children:"Specialties"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:76,columnNumber:13},this),d.jsxDEV("div",{className:"flex flex-col gap-2 text-white/60 text-sm",children:[d.jsxDEV("p",{children:"Mixed Media"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:78,columnNumber:15},this),d.jsxDEV("p",{children:"Relief Art"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:79,columnNumber:15},this),d.jsxDEV("p",{children:"Acrylic Painting"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:80,columnNumber:15},this),d.jsxDEV("p",{children:"Madhubani"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:81,columnNumber:15},this),d.jsxDEV("p",{children:"Contemporary Art"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:82,columnNumber:15},this),d.jsxDEV("p",{children:"Folk Art"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:75,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("h5",{className:"text-white mb-6 uppercase tracking-wider text-sm",children:"Contact"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:89,columnNumber:13},this),d.jsxDEV("div",{className:"space-y-4 text-white/60 text-sm",children:[d.jsxDEV("div",{className:"flex items-start gap-3",children:[d.jsxDEV(P,{size:16,className:"text-[var(--color-gold)] mt-1 flex-shrink-0",strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:92,columnNumber:17},this),d.jsxDEV("p",{className:"leading-relaxed",children:["Vallabh Vidyanagar,",d.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:94,columnNumber:38},this),"Anand, Gujarat 388120"]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:91,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(U,{size:16,className:"text-[var(--color-gold)] flex-shrink-0",strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:99,columnNumber:17},this),d.jsxDEV("a",{href:"tel:+918758046166",className:"hover:text-[var(--color-gold)] transition-colors",children:"+91 87580 46166"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:100,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:98,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-start gap-3",children:[d.jsxDEV(j,{size:16,className:"text-[var(--color-gold)] mt-1 flex-shrink-0",strokeWidth:1.5},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:108,columnNumber:17},this),d.jsxDEV("p",{className:"leading-relaxed",children:["Mon - Fri",d.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:110,columnNumber:28},this),"10:00 AM - 4:00 PM",d.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:111,columnNumber:37},this),d.jsxDEV("span",{className:"text-[var(--color-gold)] italic text-xs block mt-1",children:"Available by appointment only"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:112,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:109,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:18,columnNumber:9},this),d.jsxDEV("div",{className:"border-t border-white/10 pt-8",children:d.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-white/40 text-sm",children:[d.jsxDEV("p",{children:["© ",e," KanakArtistry. All rights reserved."]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:122,columnNumber:13},this),d.jsxDEV("p",{children:"Each piece is unique and handcrafted by Monika Mistri"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:121,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:120,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:17,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/Footer.tsx",lineNumber:16,columnNumber:5},this)}function Cs({isOpen:e,onClose:t}){const[s,i]=r.useState([]),[a,o]=r.useState(!1),[l,c]=r.useState(null),[u,h]=r.useState(null),m=async()=>{o(!0),c(null);try{const{data:e,error:t}=await js.from("queries").select("*").order("submitted_at",{ascending:!1});if(t)throw t;i(e||[])}catch(e){c(e instanceof Error?e.message:"Failed to fetch inquiries")}finally{o(!1)}};r.useEffect(()=>{e&&m()},[e]);const p=e=>new Date(e).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=e=>({"mixed-media":"Mixed Media Painting",relief:"Relief Art",acrylic:"Acrylic Painting",textured:"Contemporary Textured Art",madhubani:"Madhubani Painting",warli:"Warli Painting",gond:"Gond Art",lippan:"Lippan Art",other:"Other / Not Sure"}[e]||e);return e?d.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:t,children:[d.jsxDEV(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[d.jsxDEV("div",{className:"bg-gradient-to-r from-[var(--color-primary-teal)] to-[var(--color-accent-coral)] text-white p-8",children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("h3",{className:"text-white mb-2",children:"Inquiry Dashboard"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:102,columnNumber:15},this),d.jsxDEV("p",{className:"text-white/90",children:[s.length," ",1===s.length?"inquiry":"inquiries"," received"]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:103,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:101,columnNumber:13},this),d.jsxDEV("div",{className:"flex items-center gap-4",children:[d.jsxDEV(n.button,{onClick:m,disabled:a,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full transition-colors disabled:opacity-50",whileHover:{rotate:180},whileTap:{scale:.9},children:d.jsxDEV(O,{size:20},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:115,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:108,columnNumber:15},this),d.jsxDEV(n.button,{onClick:t,className:"p-3 bg-white/20 hover:bg-red-500 rounded-full transition-all duration-300 group",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Close Dashboard",children:d.jsxDEV(K,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:124,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:100,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:99,columnNumber:9},this),d.jsxDEV("div",{className:"flex-1 overflow-y-auto p-8",children:a?d.jsxDEV("div",{className:"flex items-center justify-center py-12",children:d.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[var(--color-primary-teal)] border-t-transparent"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:134,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:133,columnNumber:13},this):l?d.jsxDEV("div",{className:"text-center py-12",children:[d.jsxDEV("p",{className:"text-[var(--color-accent-coral)] mb-4",children:l},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:138,columnNumber:15},this),d.jsxDEV("button",{onClick:m,className:"px-6 py-2 bg-[var(--color-primary-teal)] text-white rounded-full hover:bg-[var(--color-primary-deep-teal)] transition-colors",children:"Try Again"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:137,columnNumber:13},this):0===s.length?d.jsxDEV("div",{className:"text-center py-12",children:[d.jsxDEV(D,{className:"mx-auto mb-4 text-[var(--color-neutral-gray)]",size:48},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:148,columnNumber:15},this),d.jsxDEV("h4",{className:"mb-2",children:"No inquiries yet"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:149,columnNumber:15},this),d.jsxDEV("p",{children:"When someone submits an inquiry, it will appear here."},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:150,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:147,columnNumber:13},this):d.jsxDEV("div",{className:"grid gap-6",children:s.map(e=>d.jsxDEV(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[var(--color-neutral-cream)] rounded-2xl p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>h(e),children:[d.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[d.jsxDEV("div",{children:[d.jsxDEV("h5",{className:"mb-1",children:e.name},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:164,columnNumber:23},this),d.jsxDEV("p",{className:"text-sm text-[var(--color-neutral-gray)]",children:p(e.submitted_at)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:165,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:163,columnNumber:21},this),d.jsxDEV("span",{className:"px-4 py-1 bg-[var(--color-primary-teal)] text-white rounded-full text-sm",children:e.status},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:169,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:162,columnNumber:19},this),d.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(C,{size:16,className:"text-[var(--color-primary-teal)]"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:176,columnNumber:23},this),d.jsxDEV("p",{className:"text-sm",children:e.email},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:177,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:175,columnNumber:21},this),e.phone&&d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(U,{size:16,className:"text-[var(--color-primary-teal)]"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:181,columnNumber:25},this),d.jsxDEV("p",{className:"text-sm",children:e.phone},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:182,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:180,columnNumber:23},this),d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(R,{size:16,className:"text-[var(--color-primary-teal)]"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:186,columnNumber:23},this),d.jsxDEV("p",{className:"text-sm",children:f(e.art_type)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:187,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:185,columnNumber:21},this),e.timeline&&d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(k,{size:16,className:"text-[var(--color-primary-teal)]"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:191,columnNumber:25},this),d.jsxDEV("p",{className:"text-sm capitalize",children:e.timeline.replace("-"," ")},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:192,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:190,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:174,columnNumber:19},this),d.jsxDEV("div",{className:"bg-white rounded-xl p-4",children:[d.jsxDEV("h6",{className:"mb-2",children:"Message:"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:198,columnNumber:21},this),d.jsxDEV("p",{className:"text-sm line-clamp-2",children:e.message},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:199,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:197,columnNumber:19},this)]},e.id,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:155,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:131,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:92,columnNumber:7},this),u&&d.jsxDEV("div",{className:"fixed inset-0 z-60 flex items-center justify-center p-4 bg-black/80",onClick:()=>h(null),children:d.jsxDEV(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[d.jsxDEV("div",{className:"bg-gradient-to-r from-[var(--color-primary-teal)] to-[var(--color-accent-coral)] text-white p-8 rounded-t-3xl",children:d.jsxDEV("div",{className:"flex items-start justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("h3",{className:"text-white mb-2",children:u.name},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:223,columnNumber:19},this),d.jsxDEV("p",{className:"text-white/90",children:p(u.submitted_at)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:224,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:222,columnNumber:17},this),d.jsxDEV("button",{onClick:()=>h(null),className:"p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:d.jsxDEV(K,{size:20},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:230,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:226,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:221,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:220,columnNumber:13},this),d.jsxDEV("div",{className:"p-8 space-y-6",children:[d.jsxDEV("div",{children:[d.jsxDEV("h6",{className:"mb-3 text-[var(--color-primary-teal)]",children:"Contact Information"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:237,columnNumber:17},this),d.jsxDEV("div",{className:"space-y-3",children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(C,{size:18,className:"text-[var(--color-neutral-gray)]"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:240,columnNumber:21},this),d.jsxDEV("a",{href:`mailto:${u.email}`,className:"text-[var(--color-primary-teal)] hover:underline",children:u.email},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:241,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:239,columnNumber:19},this),u.phone&&d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(U,{size:18,className:"text-[var(--color-neutral-gray)]"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:250,columnNumber:23},this),d.jsxDEV("a",{href:`tel:${u.phone}`,className:"text-[var(--color-primary-teal)] hover:underline",children:u.phone},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:251,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:249,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:238,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:236,columnNumber:15},this),d.jsxDEV("div",{children:[d.jsxDEV("h6",{className:"mb-3 text-[var(--color-primary-teal)]",children:"Project Details"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:263,columnNumber:17},this),d.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxDEV("div",{children:[d.jsxDEV("p",{className:"text-sm text-[var(--color-neutral-gray)] mb-1",children:"Art Type"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:266,columnNumber:21},this),d.jsxDEV("p",{children:f(u.art_type)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:267,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:265,columnNumber:19},this),u.size&&d.jsxDEV("div",{children:[d.jsxDEV("p",{className:"text-sm text-[var(--color-neutral-gray)] mb-1",children:"Size"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:271,columnNumber:23},this),d.jsxDEV("p",{children:u.size},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:272,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:270,columnNumber:21},this),u.budget&&d.jsxDEV("div",{children:[d.jsxDEV("p",{className:"text-sm text-[var(--color-neutral-gray)] mb-1",children:"Budget"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:277,columnNumber:23},this),d.jsxDEV("p",{children:u.budget},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:278,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:276,columnNumber:21},this),u.timeline&&d.jsxDEV("div",{children:[d.jsxDEV("p",{className:"text-sm text-[var(--color-neutral-gray)] mb-1",children:"Timeline"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:283,columnNumber:23},this),d.jsxDEV("p",{className:"capitalize",children:u.timeline.replace("-"," ")},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:284,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:282,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:264,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:262,columnNumber:15},this),d.jsxDEV("div",{children:[d.jsxDEV("h6",{className:"mb-3 text-[var(--color-primary-teal)]",children:"Vision & Message"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:291,columnNumber:17},this),d.jsxDEV("div",{className:"bg-[var(--color-neutral-cream)] rounded-xl p-4",children:d.jsxDEV("p",{children:u.message},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:293,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:290,columnNumber:15},this),d.jsxDEV("div",{className:"flex gap-4",children:[d.jsxDEV("a",{href:`mailto:${u.email}`,className:"flex-1 px-6 py-3 bg-[var(--color-primary-teal)] text-white rounded-full hover:bg-[var(--color-primary-deep-teal)] transition-colors text-center",children:"Send Email"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:298,columnNumber:17},this),u.phone&&d.jsxDEV("a",{href:`tel:${u.phone}`,className:"flex-1 px-6 py-3 border-2 border-[var(--color-primary-teal)] text-[var(--color-primary-teal)] rounded-full hover:bg-[var(--color-primary-teal)] hover:text-white transition-colors text-center",children:"Call Now"},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:305,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:297,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:235,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:214,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/components/AdminDashboard.tsx",lineNumber:88,columnNumber:5},this):null}function Ps(e,t,r="name"){let s=document.querySelector(`meta[${r}="${e}"]`);s||(s=document.createElement("meta"),s.setAttribute(r,e),document.head.appendChild(s)),s.content=t}const Ss={"@context":"https://schema.org","@type":"LocalBusiness",name:"KanakArtistry",image:"https://kanakartistry.com/logo.png",description:"Handmade spiritual canvas paintings and custom art commissions. Tree of Life, Krishna art, and more.",url:"https://kanakartistry.com",telephone:"+91-XXXXX",email:"has132006@gmail.com",address:{"@type":"PostalAddress",addressCountry:"IN"},sameAs:["https://instagram.com/kanakartistry","https://facebook.com/kanakartistry","https://pinterest.com/kanakartistry"],priceRange:"₹2000 - ₹50000"};function Ds(){const[e,t]=r.useState(!1),[s,i]=r.useState(!1),[n,a]=r.useState("");r.useEffect(()=>{var e;e={title:"KanakArtistry",description:"Discover authentic handmade artwork and commission services. Explore 11 unique handcrafted pieces including oil paintings, acrylic art, and mixed media.",keywords:["handmade art","oil painting","acrylic art","art commission","custom artwork"],image:"https://kanakartistry.com/og-image.jpg",url:"https://kanakartistry.com",type:"website"},document.title=e.title,Ps("description",e.description),e.keywords?.length&&Ps("keywords",e.keywords.join(", ")),Ps("og:title",e.title,"property"),Ps("og:description",e.description,"property"),Ps("og:type",e.type||"website","property"),Ps("og:url",e.url||"https://kanakartistry.com","property"),e.image&&(Ps("og:image",e.image,"property"),Ps("og:image:width","1200","property"),Ps("og:image:height","630","property")),Ps("twitter:card","summary_large_image"),Ps("twitter:title",e.title),Ps("twitter:description",e.description),e.image&&Ps("twitter:image",e.image),function(e){let t=document.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.rel="canonical",document.head.appendChild(t)),t.href=e}(e.url||"https://kanakartistry.com");const t=document.createElement("script");t.type="application/ld+json",t.textContent=JSON.stringify(Ss),t.setAttribute("data-seo-script","organization");const r=document.querySelector('script[data-seo-script="organization"]');r&&r.remove(),document.head.appendChild(t),window.gtag&&window.gtag("config",window.GA_ID,{page_path:"/",page_title:"Home - KanakArtistry"}),async function(){try{const e=await _s(),t=(new Date).toISOString(),{data:r,error:s}=await js.from("visitors").insert([{ip_address:e,visited_at:t,user_agent:navigator.userAgent}])}catch(e){}}()},[]),r.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&e.shiftKey&&"A"===e.key&&(e.preventDefault(),i(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const o=()=>{a(""),t(!0)};return d.jsxDEV("div",{className:"min-h-screen",children:[d.jsxDEV(q,{onInquireClick:o},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:80,columnNumber:7},this),d.jsxDEV(L,{onInquireClick:o},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:81,columnNumber:7},this),d.jsxDEV(z,{onInquireClick:o,onInquireWithArtwork:(e,r)=>{a(`${r} - Similar to "${e}"`),t(!0)}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:82,columnNumber:7},this),d.jsxDEV(H,{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:83,columnNumber:7},this),d.jsxDEV(X,{onInquireClick:o},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:84,columnNumber:7},this),d.jsxDEV(As,{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:85,columnNumber:7},this),d.jsxDEV(Es,{isOpen:e,onClose:()=>{t(!1),a("")},initialArtType:n},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:86,columnNumber:7},this),d.jsxDEV(Cs,{isOpen:s,onClose:()=>{i(!1)}},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:87,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/App.tsx",lineNumber:79,columnNumber:5},this)}p.createRoot(document.getElementById("root")).render(d.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/has20/Projects/KanakArtistry/src/main.tsx",lineNumber:6,columnNumber:55},void 0));
